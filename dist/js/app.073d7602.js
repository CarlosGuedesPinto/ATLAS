(function(t){function e(e){for(var a,r,o=e[0],c=e[1],l=e[2],u=0,m=[];u<o.length;u++)r=o[u],i[r]&&m.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,o=1;o<s.length;o++){var c=s[o];0!==i[c]&&(a=!1)}a&&(n.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},i={app:0},n=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"02e9":function(t,e,s){},"0849":function(t,e,s){},1:function(t,e){},"22de":function(t,e,s){"use strict";var a=s("25be"),i=s.n(a);i.a},"25be":function(t,e,s){},"29ad":function(t,e,s){},"2a37":function(t,e,s){"use strict";var a=s("0849"),i=s.n(a);i.a},"32e6":function(t,e,s){"use strict";var a=s("dcb3"),i=s.n(a);i.a},"3b5b":function(t,e,s){"use strict";var a=s("ffa5"),i=s.n(a);i.a},"3e43":function(t,e,s){},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=n(t);return s(e)}function n(t){var e=a[t];if(!(e+1)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e}i.keys=function(){return Object.keys(a)},i.resolve=n,t.exports=i,i.id="4678"},"4ffd":function(t,e,s){t.exports=s.p+"img/logo.ca8816f4.png"},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("097d");var a=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("router-view")],1),s("vue-snotify"),-1!==t.getLoggedUserId?s("Chat"):t._e()],1)},n=[],r=s("be94"),o=s("2f62"),c=s("c1df"),l={medals:[{id:1,details:{title:"O Meu Primeiro Evento",details:"Inscreveste-te no teu primeiro evento.",picture:"http://www.sclance.com/pngs/first-png/first_png_499489.png"},constrains:{type:"EVENT",constrain:1}},{id:2,details:{title:"10 Inscrições Em Eventos",description:"Já tens pelos 10 inscrições efetuadas.",picture:"https://upload.wikimedia.org/wikipedia/commons/2/20/MRT_Singapore_Destination_10.png"},constrains:{type:"EVENT",constrain:10}}],users:[{id:1,profileId:3,name:"ESMAD",username:"ESMAD",password:"12345",email:"esmad@atlas.pt",picture:"https://pbs.twimg.com/profile_images/792011747397865473/2r6wseRk_400x400.jpg",gender:1,accountCreation:{date:"2018-01-01",hour:"00:00"},interests:{tags:[],courses:[],proponents:[]},notifications:[],medals:[],history:{events:[]}},{id:3,profileId:1,name:"Atlas",username:"atlas",password:"12345",email:"atlas@atlas.pt",picture:"https://artscimedia.case.edu/wp-content/uploads/sites/79/2016/12/14205134/no-user-image.gif",gender:1,accountCreation:{date:"2019-01-01",hour:"00:00"},interests:{tags:[1],courses:[],proponents:[]},notifications:[],medals:[],history:{events:[]}},{id:4,profileId:2,name:"Ricardo Queirós",username:"rqueiros",password:"12345",email:"rqueiros@atlas.pt",picture:"https://avatars0.githubusercontent.com/u/741554?s=460&v=4",gender:1,accountCreation:{date:"2018-01-01",hour:"00:00"},interests:{tags:[1,2,9,10],courses:[6,7],proponents:[]},notifications:[],medals:[],history:{events:[]}},{id:5,profileId:1,name:"Gustavo Vasconcelos",username:"gustavo",password:"12345",email:"gustavo@atlas.pt",picture:"https://i.imgur.com/w0JQ22i.jpg",gender:1,accountCreation:{date:"2019-01-01",hour:"00:00"},interests:{tags:[1,2,9,10],courses:[6],proponents:[]},medals:[],history:{events:[]}},{id:6,profileId:2,name:"Núcleo de Estudantes TSIW",username:"netsiw",password:"12345",email:"netsiw@atlas.pt",picture:"https://scontent.fopo2-1.fna.fbcdn.net/v/t1.0-9/43489563_897257380469704_4495612654647246848_n.jpg?_nc_cat=102&_nc_ht=scontent.fopo2-1.fna&oh=de0005289379a99386176e501f8d084d&oe=5CC0ECA1",gender:1,accountCreation:{date:"2018-07-01",hour:"00:00"},interests:{tags:[1,2,9,10],courses:[6],proponents:[]},notifications:[],medals:[],history:{events:[]}}],courses:[{id:1,name:"Design - Ramo Design Gráfico e Publicidade",na:"DGRAF"},{id:2,name:"Design - Ramo Design Industrial",abbreviation:"DIND"},{id:3,name:"Fotografia",abbreviation:"FOTO"},{id:4,name:"Multimédia",abbreviation:"MULTI"},{id:5,name:"Tecnologia da Comunicação Audiovisual",abbreviation:"TCA"},{id:6,name:"Tecnologias e Sistemas de Informação para a Web",abbreviation:"TSIW"},{id:7,name:"Design de Jogos e Animação Digital",abbreviation:"DJAD"}],tags:[{id:1,name:"web"},{id:2,name:"programação"},{id:3,name:"fotografia"},{id:4,name:"design"},{id:5,name:"multimédia"},{id:6,name:"vídeo"},{id:7,name:"filme"},{id:8,name:"tipografia"},{id:9,name:"javascript"},{id:10,name:"jogos"},{id:11,name:"animação"},{id:12,name:"empresas"},{id:13,name:"emprego"},{id:14,name:"segurança"},{id:15,name:"criptografia"},{id:16,name:"marketing"},{id:17,name:"administração"},{id:18,name:"esmad"}],events:[{id:1,authorId:4,name:"Vue CLI 3",category:"Seminário",tags:[1,2,9],description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",classroom:"B203",coursesIds:[6],hourStart:"09:30",hourEnd:"11:00",dateStart:"2018-11-20",durationDays:1,dateEnd:"2018-11-20",picture:{thumbnail:"https://i.imgur.com/9kTBtgg.jpg",poster:{url:"https://i.imgur.com/MXuI7WL.jpg",orientation:"Vertical"},gallery:["http://eventos.esmad.ipp.pt/plug-in/img/galeria/gal_10.jpg","http://eventos.esmad.ipp.pt/plug-in/img/galeria/gal_07.jpg","http://eventos.esmad.ipp.pt/plug-in/img/galeria/gal_08.jpg"]},paid:!1,paymentPrice:0,discussions:[{id:1,authorId:3,category:"Dúvida",title:"Poderemos levar os nossos computadores para o evento?",content:"Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom.",upvotes:0,downvotes:0,usersVoted:[],answers:[],moment:c("2018-11-18 11:33")}],enrollments:[{userId:3,paid:!1,moment:c("2018-11-19 10:10")},{userId:4,paid:!1,moment:c("2018-11-19 11:10")},{userId:5,paid:!1,moment:c("2018-11-19 12:10")},{userId:6,paid:!1,moment:c("2018-11-19 13:10")}]},{id:2,authorId:6,name:"Upfront",category:"Seminário",tags:[1,2,9],description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",classroom:"B201",coursesIds:[6],hourStart:"11:00",hourEnd:"13:00",dateStart:"2018-12-14",durationDays:1,dateEnd:"2018-12-14",picture:{thumbnail:"https://i.imgur.com/kVBPTEF.jpg",poster:{url:"https://i.imgur.com/tQFosRc.jpg",orientation:"Vertical"},gallery:["http://eventos.esmad.ipp.pt/plug-in/img/galeria/gal_10.jpg","http://eventos.esmad.ipp.pt/plug-in/img/galeria/gal_07.jpg","http://eventos.esmad.ipp.pt/plug-in/img/galeria/gal_08.jpg"]},paid:!1,paymentPrice:0,discussions:[{id:1,authorId:3,category:"Dúvida",title:"Poderemos levar os nossos computadores para o evento?",content:"Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom.",upvotes:0,downvotes:0,usersVoted:[],answers:[],moment:c("2018-11-13 12:00")}],enrollments:[{userId:3,paid:!1,moment:c("2018-12-10 13:10")},{userId:4,paid:!1,moment:c("2018-12-10 14:10")},{userId:5,paid:!1,moment:c("2018-12-10 15:10")},{userId:6,paid:!1,moment:c("2018-12-10 16:10")}]},{id:3,authorId:1,name:"MAD Summer School",category:"Workshop",tags:[1,2,3,4,5,6,7,8,9],description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",classroom:"Auditório",coursesIds:[1,3,4,5,6],hourStart:"09:00",hourEnd:"17:00",dateStart:"2019-07-10",durationDays:11,dateEnd:"2019-07-20",picture:{thumbnail:"https://i.imgur.com/fHhVNur.jpg",poster:{url:"https://scontent.fopo2-1.fna.fbcdn.net/v/t1.0-9/48398312_2304510196435709_1863053592055775232_n.jpg?_nc_cat=109&_nc_ht=scontent.fopo2-1.fna&oh=d13d4ceb5caec2630c170de374eda8b9&oe=5CCC112F",orientation:"Vertical"},gallery:["https://scontent.fopo2-2.fna.fbcdn.net/v/t1.0-9/37594179_2196851980534865_3558010101245673472_o.jpg?_nc_cat=107&_nc_ht=scontent.fopo2-2.fna&oh=e675cb2dda524d26fc234d6183718d13&oe=5CC7FFCB","https://scontent.fopo2-1.fna.fbcdn.net/v/t1.0-9/37554849_2196855640534499_5477707933909254144_o.jpg?_nc_cat=101&_nc_ht=scontent.fopo2-1.fna&oh=235f21f6af4bdcfa07e52394f7052c60&oe=5CC467D8","https://scontent.fopo2-2.fna.fbcdn.net/v/t1.0-9/37564177_2196855770534486_2583708074501996544_o.jpg?_nc_cat=110&_nc_ht=scontent.fopo2-2.fna&oh=c2d37b1b8d4848fa227116aa548fe332&oe=5CC43FD1","https://scontent.fopo2-2.fna.fbcdn.net/v/t1.0-9/37551993_2196856000534463_3614932629964455936_o.jpg?_nc_cat=104&_nc_ht=scontent.fopo2-2.fna&oh=0ddc7e9f243886d7306215f7dbf2aa18&oe=5CC70BFA","https://scontent.fopo2-2.fna.fbcdn.net/v/t1.0-9/37585456_2196857223867674_1095579245914095616_o.jpg?_nc_cat=107&_nc_ht=scontent.fopo2-2.fna&oh=babf4c844db0d48c74744094e81923c2&oe=5CF709EE","https://scontent.fopo2-2.fna.fbcdn.net/v/t1.0-9/37672631_2196855810534482_3355089522328076288_o.jpg?_nc_cat=107&_nc_ht=scontent.fopo2-2.fna&oh=eebd3bed962bfb8c48985cf713386f4c&oe=5CBB1A7E"]},paid:!0,paymentPrice:150,discussions:[{id:1,authorId:3,category:"Dúvida",title:"Poderemos levar os nossos computadores para o evento?",content:"Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom.",upvotes:0,downvotes:0,usersVoted:[],answers:[],moment:c("2018-11-13 12:00")}],enrollments:[{userId:3,paid:!1,moment:c("2019-01-10 13:20")},{userId:4,paid:!1,moment:c("2019-01-11 22:10")},{userId:6,paid:!1,moment:c("2019-01-11 23:10")}]},{id:4,authorId:1,name:"Plug-in 2ª edição",category:"Evento",tags:[1,2,5,6,9,10,12,13],description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",classroom:"B201",coursesIds:[4,6,7],hourStart:"15:00",hourEnd:"17:30",dateStart:"2019-01-16",durationDays:1,dateEnd:"2019-01-16",picture:{thumbnail:"https://i.imgur.com/QrOapdW.jpg",poster:{url:"https://i.imgur.com/BHNjDpS.png",orientation:"Vertical"},gallery:["https://scontent.fopo2-1.fna.fbcdn.net/v/t1.0-9/50244730_2220767381529220_3203617720994103296_o.jpg?_nc_cat=109&_nc_ht=scontent.fopo2-1.fna&oh=5a80a02bc63c8a64fcb4f5118071acf8&oe=5CB9C682","https://scontent.fopo2-1.fna.fbcdn.net/v/t1.0-9/50049692_2220767251529233_9118216488531001344_o.jpg?_nc_cat=105&_nc_ht=scontent.fopo2-1.fna&oh=001c6e224284cfc5d2843d459b5966e0&oe=5CCD979B","https://scontent.fopo2-2.fna.fbcdn.net/v/t1.0-9/49947180_2220767121529246_6480262088022294528_o.jpg?_nc_cat=110&_nc_ht=scontent.fopo2-2.fna&oh=ed8c441996dde5d105f4f686402b84b8&oe=5CBC5045","https://scontent.fopo2-2.fna.fbcdn.net/v/t1.0-9/50095590_2220766448195980_5291964234878418944_o.jpg?_nc_cat=106&_nc_ht=scontent.fopo2-2.fna&oh=f088495e047a74cb1ec16049366a04e5&oe=5CB4EF66","https://scontent.fopo2-2.fna.fbcdn.net/v/t1.0-9/50059431_2220766241529334_3964258473520136192_o.jpg?_nc_cat=106&_nc_ht=scontent.fopo2-2.fna&oh=11442ee38fa122f1988e67ce462efc9b&oe=5CB2CC6C"]},paid:!1,paymentPrice:0,discussions:[{id:1,authorId:3,category:"Dúvida",title:"Poderemos levar os nossos computadores para o evento?",content:"Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom. Seria bom.",upvotes:0,downvotes:0,usersVoted:[],answers:[],moment:c("2018-11-13 12:00")}],enrollments:[{userId:3,paid:!1,moment:c("2019-01-15 13:10")},{userId:5,paid:!1,moment:c("2019-01-15 14:10")},{userId:6,paid:!1,moment:c("2019-01-15 23:10")}]},{id:5,authorId:1,name:"Segurança em Ambientes Web",category:"Seminário",tags:[1,2,14,15],description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",classroom:"B201",coursesIds:[6],hourStart:"09:30",hourEnd:"11:00",dateStart:"2018-11-30",durationDays:1,dateEnd:"2018-11-30",picture:{thumbnail:"https://i.imgur.com/9JhwodB.jpg",poster:{url:"https://www.esmad.ipp.pt/noticias/seminario-seguranca-em-ambientes-web-1/image_preview",orientation:"Horizontal"},gallery:[]},paid:!1,paymentPrice:0,discussions:[],enrollments:[{userId:3,paid:!1,moment:c("2018-11-29 13:10")},{userId:4,paid:!1,moment:c("2018-11-29 14:10")},{userId:5,paid:!1,moment:c("2018-11-29 15:10")}]},{id:6,authorId:1,name:"Desenvolvimento Seguro de Aplicações",category:"Seminário",tags:[1,2,14,15],description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",classroom:"B201",coursesIds:[6],hourStart:"09:30",hourEnd:"11:30",dateStart:"2018-11-16",durationDays:1,dateEnd:"2018-11-16",picture:{thumbnail:"https://i.imgur.com/U3WyMVC.jpg",poster:{url:"https://i.imgur.com/U3WyMVC.jpg",orientation:"Horizontal"},gallery:[]},paid:!1,paymentPrice:0,discussions:[],enrollments:[{userId:3,paid:!1,moment:c("2018-11-15 15:10")},{userId:4,paid:!1,moment:c("2018-11-15 16:10")}]},{id:7,authorId:1,name:"Criação de um Plano de Marketing Digital",category:"Seminário",tags:[16,17],description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",classroom:"B201",coursesIds:[6],hourStart:"11:00",hourEnd:"13:00",dateStart:"2018-10-30",durationDays:1,dateEnd:"2018-10-30",picture:{thumbnail:"https://i.imgur.com/Amc1z6X.jpg",poster:{url:"https://i.imgur.com/Amc1z6X.jpg",orientation:"Horizontal"},gallery:[]},paid:!1,paymentPrice:0,discussions:[],enrollments:[{userId:3,paid:!1,moment:c("2018-10-29 13:10")},{userId:4,paid:!1,moment:c("2018-10-29 14:10")},{userId:5,paid:!1,moment:c("2018-10-29 15:10")},{userId:6,paid:!1,moment:c("2018-10-29 16:10")}]},{id:8,authorId:1,name:"Sessão de Abertura 2017/2018",category:"Meeting",tags:[18],description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",classroom:"Auditório",coursesIds:[1,2,3,4,5,6,7],hourStart:"10:00",hourEnd:"17:30",dateStart:"2018-09-23",durationDays:2,dateEnd:"2018-09-24",picture:{thumbnail:"https://i.imgur.com/CouF1Kf.jpg",poster:{url:"https://i.imgur.com/peCcoab.jpg",orientation:"Vertical"},gallery:["https://i.imgur.com/O7a483t.png"]},paid:!1,paymentPrice:0,discussions:[],enrollments:[{userId:3,paid:!1,moment:c("2018-09-20 13:10")},{userId:4,paid:!1,moment:c("2018-09-20 14:10")},{userId:5,paid:!1,moment:c("2018-09-20 15:10")},{userId:6,paid:!1,moment:c("2018-09-20 16:10")}]},{id:9,authorId:1,name:"Game Over Video Game Mapping",category:"Exposição",tags:[5,6,10,11],description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",classroom:"Associação de Estudantes",coursesIds:[4],hourStart:"17:30",hourEnd:"18:30",dateStart:"2019-01-24",durationDays:1,dateEnd:"2019-01-24",picture:{thumbnail:"https://i.imgur.com/tS4md97.jpg",poster:{url:"https://i.imgur.com/3b8a031.jpg",orientation:"Vertical"},gallery:[]},paid:!1,paymentPrice:0,discussions:[],enrollments:[]},{id:10,authorId:1,name:"A Reclamação",category:"Exposição",tags:[4],description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",classroom:"B301",coursesIds:[1,2],hourStart:"16:00",hourEnd:"17:00",dateStart:"2019-01-22",durationDays:1,dateEnd:"2019-01-22",picture:{thumbnail:"https://i.imgur.com/GHeJROB.jpg",poster:{url:"https://i.imgur.com/Tmp9d9C.jpg",orientation:"Vertical"},gallery:[]},paid:!1,paymentPrice:0,discussions:[],enrollments:[{userId:3,paid:!1,moment:c("2019-01-20 13:10")},{userId:6,paid:!1,moment:c("2019-01-20 16:10")}]},{id:11,authorId:1,name:"Prólogo",category:"Exposição",tags:[3,4],description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",classroom:"B201",coursesIds:[1],hourStart:"16:00",hourEnd:"17:00",dateStart:"2019-01-23",durationDays:1,dateEnd:"2019-01-23",picture:{thumbnail:"https://i.imgur.com/4w6Yshl.jpg",poster:{url:"https://i.imgur.com/Jrm27bx.jpg",orientation:"Vertical"},gallery:[]},paid:!1,paymentPrice:0,discussions:[],enrollments:[{userId:3,paid:!1,moment:c("2019-01-20 13:10")},{userId:6,paid:!1,moment:c("2019-01-20 16:10")}]}]},d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("beautiful-chat",{attrs:{participants:t.participants,titleImageUrl:t.titleImageUrl,onMessageWasSent:t.onMessageWasSent,messageList:t.messageList,newMessagesCount:t.newMessagesCount,isOpen:t.isChatOpen,close:t.closeChat,open:t.openChat,showEmoji:!0,showFile:!1,showTypingIndicator:t.showTypingIndicator,colors:t.colors,alwaysScrollToBottom:t.alwaysScrollToBottom,messageStyling:t.messageStyling}})],1)},u=[],m=s("2909"),h=(s("7f7f"),s("ac6a"),s("96cf"),s("1da1")),f=s("8055"),p=s.n(f),g=s("bc3a"),v=s.n(g),b={name:"app",data:function(){return{socket:p()("https://atlas-server-gustavovasconcelos.c9users.io"),participants:[],titleImageUrl:"https://a.slack-edge.com/66f9/img/avatars-teams/ava_0001-34.png",messageList:[],newMessagesCount:0,isChatOpen:!1,showTypingIndicator:"",colors:{header:{bg:"#00225B",text:"#ffffff"},launcher:{bg:"#00225B"},messageList:{bg:"#ffffff"},sentMessage:{bg:"#00225B",text:"#ffffff"},receivedMessage:{bg:"#eaeaea",text:"#222222"},userInput:{bg:"#f4f7f9",text:"#565867"}},alwaysScrollToBottom:!1,messageStyling:!0}},created:function(){var t=this;Object(h["a"])(regeneratorRuntime.mark(function e(){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$http.get("/chat");case 3:s=e.sent,s.data.forEach(function(e){var s=e.author,a=e.type,i=e.data;s===t.getUserById(t.getLoggedUserId).username&&(s="me"),t.messageList.push({author:s,type:a,data:i})}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))(),this.getUsers.forEach(function(e){t.participants.push({id:e.username,name:e.name,imageUrl:e.picture})}),this.socket.on("CHAT_MESSAGE",function(e){t.isChatOpen||t.newMessagesCount++,e.author===t.getUserById(t.getLoggedUserId).username&&(e.author="me"),t.messageList=Object(m["a"])(t.messageList).concat([e])})},computed:Object(r["a"])({},Object(o["c"])(["getApiUrl","getLoggedUserId","getUserById","getUsers"])),methods:{onMessageWasSent:function(t){"text"===t.type?this.socket.emit("CHAT_MESSAGE",{author:this.getUserById(this.getLoggedUserId).username,type:"text",data:{text:t.data.text}}):this.socket.emit("CHAT_MESSAGE",{author:this.getUserById(this.getLoggedUserId).username,type:"emoji",data:{emoji:t.data.emoji}})},openChat:function(){this.isChatOpen=!0,this.newMessagesCount=0},closeChat:function(){this.isChatOpen=!1}},destroyed:function(){this.socket.emit("DISCONNECTION",this.socket.id)}},I=b,_=s("2877"),E=Object(_["a"])(I,d,u,!1,null,null,null),y=E.exports,S={components:{Chat:y},methods:Object(r["a"])({},Object(o["b"])(["setUsers","userLoggedIn","setCourses","setTags","setEvents","setMedals"])),created:function(){var t=this;window.addEventListener("beforeunload",function(){t.$destroy()}),localStorage.medals?this.setMedals(JSON.parse(localStorage.medals)):(localStorage.medals=JSON.stringify(l.medals),this.setMedals(l.medals)),localStorage.users?this.setUsers(JSON.parse(localStorage.users)):(localStorage.users=JSON.stringify(l.users),this.setUsers(l.users)),localStorage.loggedUserId&&this.userLoggedIn(parseInt(localStorage.loggedUserId)),localStorage.courses?this.setCourses(JSON.parse(localStorage.courses)):(localStorage.courses=JSON.stringify(l.courses),this.setCourses(l.courses)),localStorage.tags?this.setTags(JSON.parse(localStorage.tags)):(localStorage.tags=JSON.stringify(l.tags),this.setTags(l.tags)),localStorage.events?this.setEvents(JSON.parse(localStorage.events)):(localStorage.events=JSON.stringify(l.events),this.setEvents(l.events)),this.$store.subscribe(function(e){switch(e.type){case"USER_LOGGED_IN":t.$snotify.success("Bem vindo, ".concat(t.getUserById(t.getLoggedUserId).username,"!"),"Sessão iniciada",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,position:"centerTop"});break;case"USER_LOGGED_OUT":t.$snotify.success("Até logo!","Sessão terminada",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,position:"centerTop"});break;case"SIGNED_UP":t.$snotify.info("Faça login com os seus dados.","Conta criada.",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,position:"centerTop"});break}})},computed:Object(r["a"])({},Object(o["c"])(["getUsers","getLoggedUserId","getUserById","getCourses","getTags","getEvents","getMedals"])),destroyed:function(){localStorage.users=JSON.stringify(this.getUsers),localStorage.loggedUserId=JSON.stringify(this.getLoggedUserId),localStorage.courses=JSON.stringify(this.getCourses),localStorage.tags=JSON.stringify(this.getTags),localStorage.events=JSON.stringify(this.getEvents),localStorage.medals=JSON.stringify(this.getMedals)}},C=S,B=(s("5c0b"),Object(_["a"])(C,i,n,!1,null,null,null)),w=B.exports,k=(s("7514"),s("8c4f")),x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container",style:{minHeight:t.windowHeight-126+"px"},attrs:{id:"atlas-content"}},[s("Navbar",{staticStyle:{"margin-bottom":"75px"}}),s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("router-view",{staticStyle:{padding:"50px 0 60px 0"}})],1)],1),s("AtlasFooter")],1)},T=[],U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"atlas1",fixed:"top"}},[a("div",{staticClass:"container"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"home"}}},[a("img",{attrs:{src:s("4ffd"),alt:"ATLAS",height:"50"}})]),a("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),a("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[a("b-navbar-nav",[a("router-link",{staticClass:"nav-link",class:{"active-route":t.isActive("home")},attrs:{to:{name:"home"}}},[t._v("Início")]),a("router-link",{staticClass:"nav-link",class:{"active-route":t.isActive("events")},attrs:{to:{name:"events"}}},[t._v("Eventos")])],1),a("b-navbar-nav",{staticClass:"ml-auto"},[-1===t.getLoggedUserId?a("router-link",{staticClass:"nav-link",class:{"active-route":t.isActive("login")},attrs:{to:{name:"login"}}},[t._v("Iniciar sessão")]):a("div",[a("b-dropdown",{attrs:{variant:"link",id:"nav-user-logged"}},[a("template",{slot:"button-content"},[a("b-img",{attrs:{rounded:"circle",height:"35",width:"35",fluid:"",src:t.getUserById(t.getLoggedUserId).picture,alt:t.getUserById(t.getLoggedUserId).username}}),a("span",{staticClass:"ml-2",staticStyle:{color:"white"}},[t._v("@"+t._s(t.getUserById(t.getLoggedUserId).username))])],1),1!==t.getUserById(t.getLoggedUserId).profileId?[a("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"backoffice"}}},[t._v("Painel de controlo")]),a("b-dropdown-divider")]:t._e(),a("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"notifications"}}},[t._v("Notificações")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"profile",params:{username:t.getUserById(t.getLoggedUserId).username}}}},[t._v("Perfil")]),a("b-dropdown-item-button",{on:{click:t.userLoggedOut}},[t._v("Terminar sessão")])],2)],1)],1)],1)],1)])],1)},P=[],D={name:"Navbar",methods:Object(r["a"])({isActive:function(t){return this.$route.name===t}},Object(o["b"])(["userLoggedOut"])),computed:Object(r["a"])({},Object(o["c"])(["getLoggedUserId","getUserById"]))},O=D,j=(s("3b5b"),Object(_["a"])(O,U,P,!1,null,"49ecf3d3",null)),A=j.exports,L=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},N=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid bg-atlas1 py-3"},[t._v("\n        © 2019, "),s("a",{staticClass:"text-atlas2",attrs:{href:"https://github.com/gustavo-vasconcelos/",target:"_blank"}},[t._v("ATLAS")]),t._v(" - Todos os direitos reservados.\n    ")])}],$={name:"AtlasFooter"},R=$,F=(s("ea69"),Object(_["a"])(R,L,N,!1,null,"391a7f9b",null)),z=F.exports,V={name:"MainView",components:{Navbar:A,AtlasFooter:z},created:function(){this.handleResize()},data:function(){return{windowHeight:0}},methods:{handleResize:function(){this.windowHeight=window.innerHeight}}},q=V,M=(s("22de"),Object(_["a"])(q,x,T,!1,null,null,null)),W=M.exports,H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.getTodayEvents.length?s("div",[s("TitleAtlas",[t._v("Eventos hoje")]),t.windowWidth>=768?t._l(t.getTodayEvents,function(t){return s("EventListItem",{key:t.id,staticClass:"mb-1",attrs:{event:t}})}):[s("Carousel",{attrs:{margin:30,nav:!1,responsive:t.carouselResponsivity}},t._l(t.getTodayEvents,function(t){return s("EventCard",{key:t.id,attrs:{event:t}})}))]],2):t._e(),-1!==t.getLoggedUserId?s("div",{class:t.getTodayEvents.length?"mt-5":""},[t.getNextEventsByIdsTagsIdsCourses(t.getUserById(t.getLoggedUserId).interests.tags,t.getUserById(t.getLoggedUserId).interests.courses).length?[s("TitleAtlas",[t._v("Próximos eventos que poderá gostar")]),t._l(t.getNextEventsByIdsTagsIdsCourses(t.getUserById(t.getLoggedUserId).interests.tags,t.getUserById(t.getLoggedUserId).interests.courses),function(e){return[t.$moment(e.dateStart).isAfter(t.$moment())?[t.windowWidth>=768?[s("EventListItem",{key:e.id,attrs:{event:e}})]:[s("EventCard",{key:e.id,staticClass:"mb-1",attrs:{event:e}})]]:t._e()]})]:[s("TitleAtlas",[t._v("Próximos eventos")]),t._l(t.getNextEvents,function(e){return[t.$moment(e.dateStart).isAfter(t.$moment())?[t.windowWidth>=768?[s("EventListItem",{key:e.id,staticClass:"mb-1",attrs:{event:e}})]:[s("EventCard",{key:e.id,staticClass:"mb-1",attrs:{event:e}})]]:t._e()]})]],2):s("div",{class:t.getTodayEvents.length?"mt-5":""},[s("TitleAtlas",[t._v("Próximos eventos")]),t._l(t.getNextEvents,function(e){return[t.$moment(e.dateStart).isAfter(t.$moment())?[t.windowWidth>=768?[s("EventListItem",{key:e.id,staticClass:"mb-1",attrs:{event:e}})]:[s("EventCard",{key:e.id,staticClass:"mb-1",attrs:{event:e}})]]:t._e()]})],2),t.getTopUsersEnrolledEvents.length?s("div",{staticClass:"mt-5"},[s("TitleAtlas",[t._v("TOP "+t._s(t.getTopUsersEnrolledEvents.length>=4?"4":t.getTopUsersEnrolledEvents.length)+" inscrições em eventos")]),s("div",{staticClass:"row text-center"},t._l(t.getTopUsersEnrolledEvents,function(e,a){return s("div",{key:"user_"+e.id,staticClass:"col-lg-3 col-md-6 col-12 mb-4"},[a<=3?[s("router-link",{staticClass:"text-atlas2",attrs:{to:{name:"profile",params:{username:t.getUserById(e.id).username}}}},[s("img",{staticClass:"rounded-circle img-thumbnail",staticStyle:{"max-width":"200px","max-height":"200px"},attrs:{src:t.getUserById(e.id).picture}})]),s("h5",[t._v(t._s(e.amount)+" inscrições")]),s("div",[s("router-link",{staticClass:"text-atlas2",attrs:{to:{name:"profile",params:{username:t.getUserById(e.id).username}}}},[t._v("@"+t._s(t.getUserById(e.id).username))])],1)]:t._e()],2)}))],1):t._e(),t.getEventsByTopEnrollments.length?s("div",{staticClass:"mt-5"},[s("TitleAtlas",[t._v("TOP "+t._s(t.getEventsByTopEnrollments.length>=4?"4":t.getEventsByTopEnrollments.length)+" eventos com mais inscrições")]),t.windowWidth>=768?[t._l(t.getEventsByTopEnrollments,function(e,a){return[a<=3?s("EventListItem",{key:e.id+"_"+a,staticClass:"mb-1",attrs:{event:e}}):t._e()]})]:[s("Carousel",{attrs:{margin:30,nav:!1,responsive:t.carouselResponsivity}},[t._l(t.getEventsByTopEnrollments,function(e,a){return[a<=3?s("EventCard",{key:e.id+"_"+a,attrs:{event:e}}):t._e()]})],2)]],2):t._e()])},G=[],Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h4",{staticClass:"bg-atlas1 text-white pl-3 py-2 atlas-bold"},[t._t("default")],2)},J=[],Q={},X=Object(_["a"])(Q,Y,J,!1,null,null,null),K=X.exports,Z=s("7ec7"),tt=s.n(Z),et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"card"},[s("router-link",{attrs:{to:{name:"eventsInfo",params:{id:t.event.id}}}},[s("img",{staticClass:"card-img-top",attrs:{src:t.event.picture.thumbnail}})]),s("div",{staticClass:"bg-atlas2 px-3 py-2 body-card",style:t.windowWidth>=768&&t.windowWidth<=991?"min-height: 150px":""},[s("router-link",{staticClass:"router-link",attrs:{to:{name:"eventsInfo",params:{id:t.event.id}}}},[s("h5",{staticClass:"text-white m-0"},[s("b",{staticClass:"text-atlas1"},[t._v("["+t._s(t.event.category)+"]")]),t._v("\n          "+t._s(t.event.name)+"\n        ")])]),s("div",{staticClass:"text-atlas3 event-card-body"},[s("div",{staticClass:"mb-2"},[t._l(t.event.tags,function(e,a){return[a<=2?s("router-link",{key:"event_"+t.event.id+"tag_"+e,staticClass:"text-atlas3",attrs:{to:{name:"events",query:{tags:t.getTagById(e).name}}}},[t._v(t._s("#"+t.getTagById(e).name+" "))]):3===a?s("span",{key:a},[t._v("e mais "+t._s(t.event.tags.length-3)+" [...]")]):t._e()]}),t.ended?s("div",[t._v(t._s(t.getEventShortDescription(t.event.id)))]):t._e()],2),s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("i",{staticClass:"fa fa-map-marker-alt text-atlas1",attrs:{"aria-hidden":"true"}}),s("router-link",{staticClass:"text-atlas3 ml-1",attrs:{to:{name:"events",query:{sala:t.event.classroom}}}},[t._v(t._s(t.event.classroom))])],1),s("div",{staticClass:"col-6"},[s("i",{staticClass:"fa fa-calendar-alt text-atlas1",attrs:{"aria-hidden":"true"}}),t._v("\n            "+t._s(t._f("moment")(t.event.dateStart+" "+t.event.hourStart,"from","now"))+"\n          ")])]),s("div",[s("i",{staticClass:"fa fa-microphone-alt text-atlas1",attrs:{"aria-hidden":"true"}}),s("router-link",{staticClass:"text-atlas3",attrs:{to:{name:"profile",params:{username:t.getUserById(t.event.authorId).username}}}},[t._v(" @"+t._s(t.getUserById(t.event.authorId).username))])],1),s("div",[s("i",{staticClass:"fa fa-users text-atlas1",attrs:{"aria-hidden":"true"}}),t._v("\n          "+t._s(t.event.enrollments.length)+" "+t._s(t.$moment(t.event.dateEnd+" "+t.event.hourEnd).isBefore(t.$moment())?"foram":1===t.event.enrollments.length?"vai":"vão")+"\n        ")])])],1)],1)])},st=[],at={props:["event","ended"],created:function(){window.addEventListener("resize",this.handleResize),this.handleResize()},data:function(){return{windowWidth:0}},methods:{handleResize:function(){this.windowWidth=window.innerWidth}},computed:Object(r["a"])({},Object(o["c"])(["getUserById","getTagById","getEventShortDescription"]))},it=at,nt=(s("6803"),Object(_["a"])(it,et,st,!1,null,"908e6766",null)),rt=nt.exports,ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex event-list-item"},[s("router-link",{staticClass:"p-0 col-xl-3 col-lg-4 col-6",attrs:{to:{name:"eventsInfo",params:{id:t.event.id}}}},[s("img",{staticClass:"card-img-top",staticStyle:{height:"100%","border-radius":"0"},attrs:{src:t.event.picture.thumbnail}})]),s("div",{staticClass:"bg-atlas2 py-2 col-xl-9 col-lg-8 col-6"},[s("router-link",{staticClass:"router-link",attrs:{to:{name:"eventsInfo",params:{id:t.event.id}}}},[s("h5",{staticClass:"text-white atlas-bold"},[s("b",{staticClass:"text-atlas1"},[t._v("["+t._s(t.event.category)+"]")]),s("span",{staticClass:"atlas-semi-bold ml-1"},[t._v(t._s(t.event.name))])])]),s("div",{staticClass:"text-atlas3 event-card-body"},[s("div",{staticClass:"float-left mb-3"},[t._v(t._s(t.getEventShortDescription(t.event.id)))]),s("div",[s("div",{staticClass:"float-left"},t._l(t.event.tags,function(e){return s("router-link",{key:"event_"+t.event.id+"tag_"+e,staticClass:"text-atlas3",attrs:{to:{name:"events",query:{tags:t.getTagById(e).name}}}},[t._v(t._s("#"+t.getTagById(e).name+" "))])})),s("div",{staticClass:"float-right row"},[s("div",{staticClass:"ml-3"},[s("i",{staticClass:"fa fa-map-marker-alt text-atlas1",attrs:{"aria-hidden":"true"}}),s("router-link",{staticClass:"text-atlas3 ml-1",attrs:{to:{name:"events",query:{sala:t.event.classroom}}}},[t._v(t._s(t.event.classroom))])],1),s("div",{staticClass:"ml-3"},[s("i",{staticClass:"fa fa-calendar-alt text-atlas1",attrs:{"aria-hidden":"true"}}),t._v("\n            "+t._s(t._f("moment")(t.event.dateStart+" "+t.event.hourStart,"from","now"))+"\n          ")]),s("div",{staticClass:"ml-3"},[s("i",{staticClass:"fa fa-microphone-alt text-atlas1",attrs:{"aria-hidden":"true"}}),s("router-link",{staticClass:"text-atlas3",attrs:{to:{name:"profile",params:{username:t.getUserById(t.event.authorId).username}}}},[t._v(" @"+t._s(t.getUserById(t.event.authorId).username))])],1),s("div",{staticClass:"mx-3"},[s("i",{staticClass:"fa fa-users text-atlas1",attrs:{"aria-hidden":"true"}}),t._v("\n            "+t._s(t.event.enrollments.length)+" "+t._s(t.$moment(t.event.dateEnd+" "+t.event.hourEnd).isBefore(t.$moment())?"foram":1===t.event.enrollments.length?"vai":"vão")+"\n          ")])])])])],1)],1)},ct=[],lt={props:["event"],data:function(){return{someDate:"2019-01-13"}},computed:Object(r["a"])({},Object(o["c"])(["getUserById","getTagById","getEventShortDescription"]))},dt=lt,ut=(s("f182"),Object(_["a"])(dt,ot,ct,!1,null,"6fab0f40",null)),mt=ut.exports,ht={name:"HomeView",components:{TitleAtlas:K,Carousel:tt.a,EventCard:rt,EventListItem:mt},created:function(){window.addEventListener("resize",this.handleResize),this.handleResize()},data:function(){return{windowWidth:0,carouselResponsivity:{0:{items:1},768:{items:2},1200:{items:3}}}},computed:Object(r["a"])({},Object(o["c"])(["getLoggedUserId","getTodayEvents","getEventsByIdsTagsIdsCourses","getUserById","getNextEvents","getNextEventsByIdsTagsIdsCourses","getTopUsersEnrolledEvents","getEventsByTopEnrollments"])),methods:{handleResize:function(){this.windowWidth=window.innerWidth}}},ft=ht,pt=Object(_["a"])(ft,H,G,!1,null,null,null),gt=pt.exports,vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Panel",{attrs:{title:"Pesquisar eventos"}},[s("div",{staticClass:"row"},[s("b-form-group",{staticClass:"col-lg-3 col-12",attrs:{label:"Nome/proponente","label-for":"name"},on:{input:t.getUrlQuery}},[s("b-form-input",{attrs:{id:"name",type:"text",maxlength:"50"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),s("b-form-group",{staticClass:"col-lg-3 col-sm-6",attrs:{label:"Depois de","label-for":"dateStart"}},[s("b-form-input",{attrs:{id:"dateStart",type:"date"},model:{value:t.dateStart,callback:function(e){t.dateStart=e},expression:"dateStart"}})],1),s("b-form-group",{staticClass:"col-lg-3 col-sm-6",attrs:{label:"Antes de","label-for":"dateEnd"}},[s("b-form-input",{attrs:{id:"dateEnd",type:"date"},model:{value:t.dateEnd,callback:function(e){t.dateEnd=e},expression:"dateEnd"}})],1),s("b-form-group",{staticClass:"col-lg-3 col-12",attrs:{label:t.windowWidth>=992?"&nbsp;":""}},[s("button",{staticClass:"btn btn-atlas1 col-12",on:{click:function(e){t.searchCollapse=!t.searchCollapse}}},[s("i",{staticClass:"fa",class:t.searchCollapse?"fa-arrow-up":"fa-arrow-down",attrs:{"aria-hidden":"true"}}),t._v(" Pesquisa avançada\n        ")])]),s("b-collapse",{staticClass:"col-12 mb-3",attrs:{id:"searchCollapse"},model:{value:t.searchCollapse,callback:function(e){t.searchCollapse=e},expression:"searchCollapse"}},[s("b-card",[s("div",{staticClass:"row"},[s("b-form-group",{staticClass:"col-12",attrs:{label:"Tags","label-for":"filterTag"}},[s("b-form-input",{attrs:{id:"filterTag",type:"text",maxlength:"50",placeholder:"Filtrar tags..."},model:{value:t.filterTags,callback:function(e){t.filterTags=e},expression:"filterTags"}}),s("b-form-checkbox-group",{staticClass:"mt-2 px-1",staticStyle:{"overflow-y":"scroll","max-height":"200px"},attrs:{name:"tags",options:t.getFilteredTags,stacked:!0},model:{value:t.selectedTags,callback:function(e){t.selectedTags=e},expression:"selectedTags"}})],1),s("b-form-group",{staticClass:"col-lg-6 col-sm-6 col-12",attrs:{label:"Curso","label-for":"course"},on:{input:t.getUrlQuery}},[s("b-form-input",{attrs:{id:"course",type:"text",maxlength:"50"},model:{value:t.course,callback:function(e){t.course=e},expression:"course"}})],1),s("b-form-group",{staticClass:"col-lg-6 col-sm-6 col-12",attrs:{label:"Sala"}},[s("b-form-select",{model:{value:t.classroom,callback:function(e){t.classroom=e},expression:"classroom"}},[s("option",{attrs:{value:""}},[t._v("Selecione uma sala")]),t.classrooms.length?[t.classrooms.some(function(t){return"Associação de Estudantes"===t})?s("option",{attrs:{value:"Associação de Estudantes"}},[t._v("Associação de Estudantes")]):t._e(),t.classrooms.some(function(t){return"Auditório"===t})?s("option",{attrs:{value:"Auditório"}},[t._v("Auditório")]):t._e(),t.classroomFloorCondition("Piso 0")?s("optgroup",{attrs:{label:"Piso 0"}},[t.classrooms.some(function(t){return"Anfiteatro Joaquim Ribeiro"===t})?s("option",{attrs:{value:"Anfiteatro Joaquim Ribeiro"}},[t._v("Anfiteatro Joaquim Ribeiro")]):t._e(),t.classrooms.some(function(t){return"B102"===t})?s("option",{attrs:{value:"B102"}},[t._v("B102")]):t._e(),t.classrooms.some(function(t){return"B103A"===t})?s("option",{attrs:{value:"B103A"}},[t._v("B103A")]):t._e(),t.classrooms.some(function(t){return"B103B"===t})?s("option",{attrs:{value:"B103B"}},[t._v("B103B")]):t._e(),t.classrooms.some(function(t){return"B104"===t})?s("option",{attrs:{value:"B104"}},[t._v("B104")]):t._e(),t.classrooms.some(function(t){return"B105"===t})?s("option",{attrs:{value:"B105"}},[t._v("B105")]):t._e(),t.classrooms.some(function(t){return"B106"===t})?s("option",{attrs:{value:"B106"}},[t._v("B106")]):t._e(),t.classrooms.some(function(t){return"B107"===t})?s("option",{attrs:{value:"B107"}},[t._v("B107")]):t._e(),t.classrooms.some(function(t){return"B108"===t})?s("option",{attrs:{value:"B108"}},[t._v("B108")]):t._e(),t.classrooms.some(function(t){return"B109"===t})?s("option",{attrs:{value:"B109"}},[t._v("B109")]):t._e(),t.classrooms.some(function(t){return"B110"===t})?s("option",{attrs:{value:"B110"}},[t._v("B110")]):t._e(),t.classrooms.some(function(t){return"B111"===t})?s("option",{attrs:{value:"B111"}},[t._v("B111")]):t._e(),t.classrooms.some(function(t){return"B112"===t})?s("option",{attrs:{value:"B112"}},[t._v("B112")]):t._e()]):t._e(),t.classroomFloorCondition("Piso 1")?s("optgroup",{attrs:{label:"Piso 1"}},[t.classrooms.some(function(t){return"B201"===t})?s("option",{attrs:{value:"B201"}},[t._v("B201")]):t._e(),t.classrooms.some(function(t){return"B202"===t})?s("option",{attrs:{value:"B202"}},[t._v("B202")]):t._e(),t.classrooms.some(function(t){return"B203"===t})?s("option",{attrs:{value:"B203"}},[t._v("B203")]):t._e(),t.classrooms.some(function(t){return"B204"===t})?s("option",{attrs:{value:"B204"}},[t._v("B204")]):t._e(),t.classrooms.some(function(t){return"B205"===t})?s("option",{attrs:{value:"B205"}},[t._v("B205")]):t._e(),t.classrooms.some(function(t){return"B206"===t})?s("option",{attrs:{value:"B206"}},[t._v("B206")]):t._e(),t.classrooms.some(function(t){return"B207"===t})?s("option",{attrs:{value:"B207"}},[t._v("B207")]):t._e(),t.classrooms.some(function(t){return"B208"===t})?s("option",{attrs:{value:"B208"}},[t._v("B208")]):t._e(),t.classrooms.some(function(t){return"B209"===t})?s("option",{attrs:{value:"B209"}},[t._v("B209")]):t._e(),t.classrooms.some(function(t){return"B210"===t})?s("option",{attrs:{value:"B210"}},[t._v("B210")]):t._e(),t.classrooms.some(function(t){return"B211"===t})?s("option",{attrs:{value:"B211"}},[t._v("B211")]):t._e(),t.classrooms.some(function(t){return"B212"===t})?s("option",{attrs:{value:"B212"}},[t._v("B212")]):t._e()]):t._e(),t.classroomFloorCondition("Piso 2")?s("optgroup",{attrs:{label:"Piso 2"}},[t.classrooms.some(function(t){return"B301"===t})?s("option",{attrs:{value:"B301"}},[t._v("B301")]):t._e(),t.classrooms.some(function(t){return"B302"===t})?s("option",{attrs:{value:"B302"}},[t._v("B302")]):t._e(),t.classrooms.some(function(t){return"B303"===t})?s("option",{attrs:{value:"B303"}},[t._v("B303")]):t._e(),t.classrooms.some(function(t){return"B304"===t})?s("option",{attrs:{value:"B304"}},[t._v("B304")]):t._e(),t.classrooms.some(function(t){return"B305"===t})?s("option",{attrs:{value:"B305"}},[t._v("B305")]):t._e(),t.classrooms.some(function(t){return"B306"===t})?s("option",{attrs:{value:"B306"}},[t._v("B306")]):t._e(),t.classrooms.some(function(t){return"B307"===t})?s("option",{attrs:{value:"B307"}},[t._v("B307")]):t._e(),t.classrooms.some(function(t){return"B308"===t})?s("option",{attrs:{value:"B308"}},[t._v("B308")]):t._e(),t.classrooms.some(function(t){return"B309"===t})?s("option",{attrs:{value:"B309"}},[t._v("B309")]):t._e(),t.classrooms.some(function(t){return"B310"===t})?s("option",{attrs:{value:"B310"}},[t._v("B310")]):t._e(),t.classrooms.some(function(t){return"B311"===t})?s("option",{attrs:{value:"B311"}},[t._v("B311")]):t._e(),t.classrooms.some(function(t){return"B312"===t})?s("option",{attrs:{value:"B312"}},[t._v("B312")]):t._e()]):t._e()]:t._e()],2)],1)],1)])],1),s("transition",{attrs:{name:"fade",mode:"in-out"}},[t.filtering?s("div",{staticClass:"col-12"},[s("button",{staticClass:"btn btn-atlas1 col-12",on:{click:t.clearSearch}},[t._v("Limpar pesquisa")])]):t._e()])],1)]),t.filtering?s("div",{staticClass:"mt-5"},[t.getFilteredEvents.length?s("div",[s("TitleAtlas",[t._v(t._s(1===t.getFilteredEvents.length?"Resultado":"Resultados")+" da pesquisa - "+t._s(t.getFilteredEvents.length))]),t.windowWidth>=768?t._l(t.getFilteredEventsSelectedPage,function(t){return s("EventListItem",{key:t.id,staticClass:"mb-1",attrs:{event:t}})}):t._l(t.getFilteredEventsSelectedPage,function(t){return s("EventCard",{key:t.id,staticClass:"mb-1",attrs:{event:t}})}),t.getFilteredEvents.length>t.filteredEventsPerPage?s("vs-pagination",{staticClass:"mt-3",attrs:{total:t.totalPages},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],2):s("div",[s("p",[t._v("Sem resultados para a sua pesquisa.")])])]):s("div",[s("div",{staticClass:"pt-5"},[s("TitleAtlas",[t._v("Próximos eventos")]),t.windowWidth>=768?t._l(t.getNextEvents,function(t){return s("EventListItem",{key:t.id,staticClass:"mb-1",attrs:{event:t}})}):[s("Carousel",{attrs:{margin:30,nav:!1,responsive:t.carouselResponsivity}},t._l(t.getNextEvents,function(t){return s("EventCard",{key:t.id,attrs:{event:t}})}))]],2),s("div",{staticClass:"pt-5"},[s("TitleAtlas",[t._v("Eventos anteriores")]),t.windowWidth>=768?t._l(t.getEndedEventsSelectedPage,function(t){return s("EventListItem",{key:t.id,staticClass:"mb-1",attrs:{event:t}})}):t._l(t.getEndedEventsSelectedPage,function(t){return s("EventCard",{key:t.id,staticClass:"mb-1",attrs:{ended:!0,event:t}})}),t.getEndedEvents.length>t.endedEventsPerPage?s("vs-pagination",{staticClass:"mt-3",attrs:{total:t.totalPages},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],2)])],1)},bt=[],It=(s("55dd"),s("6762"),s("2fdb"),s("a481"),s("28a5"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"border border-atlas rounded bg-white px-0"},[s("h4",{staticClass:"bg-atlas1 text-white pl-3 py-2 atlas-bold"},[t._v(t._s(t.title))]),s("div",{staticClass:"px-3 pb-4"},[t._t("default")],2)])}),_t=[],Et={name:"Panel",props:["title"]},yt=Et,St=Object(_["a"])(yt,It,_t,!1,null,null,null),Ct=St.exports,Bt={components:{TitleAtlas:K,Panel:Ct,Carousel:tt.a,EventCard:rt,EventListItem:mt},created:function(){var t=this;window.addEventListener("resize",this.handleResize),this.handleResize(),this.classrooms=this.getEventClassrooms,this.getTotalPages();var e=this.$route.query;if(e){if(e.nome&&(this.name=e.nome),e.depois_de&&(this.dateStart=e.depois_de),e.tags){var s=e.tags.split("_"),a=[];s.forEach(function(e){return a.push(t.getTagByName(e).id)}),this.selectedTags=a,this.searchCollapse=!0}e.curso&&(this.course=e.curso,this.searchCollapse=!0),e.sala&&(this.classroom=e.sala,this.searchCollapse=!0)}},beforeRouteUpdate:function(t,e,s){var a=this;if("events"===t.name&&t.query){if(t.query.tags){var i=t.query.tags.split("_"),n=[];i.forEach(function(t){return n.push(a.getTagByName(t).id)}),this.selectedTags=n,this.searchCollapse=!0}t.query.sala&&(this.classroom=t.query.sala,this.searchCollapse=!0)}s()},data:function(){return{name:"",tags:"",dateStart:"",dateEnd:"",searchCollapse:!1,filterTags:"",selectedTags:[],course:"",classroom:"",classrooms:[],carouselResponsivity:{0:{items:1},768:{items:2},1200:{items:3}},windowWidth:0,totalPages:1,currentPage:1,endedEventsPerPage:5,totalPagesFilteredEvents:1,filteredEventsPerPage:10}},computed:Object(r["a"])({},Object(o["c"])(["getEvents","getEndedEvents","getUserById","getTags","getTagById","getTagByName","getCourseById","getEventClassrooms","getNextEvents"]),{getEndedEventsSelectedPage:function(){return this.getEndedEvents.length>this.endedEventsPerPage?this.getEndedEvents.slice((this.currentPage-1)*this.endedEventsPerPage,this.endedEventsPerPage*this.currentPage):this.getEndedEvents},filtering:function(){return this.currentPage=1,this.name||this.dateStart||this.dateEnd||this.selectedTags.length||this.course||this.classroom},getUrlQuery:function(){var t=this,e={};if(this.name?e.nome=this.name:delete e.nome,this.dateStart?e.depois_de=this.dateStart:delete e.depois_de,this.dateEnd?e.antes_de=this.dateEnd:delete e.antes_de,this.selectedTags.length){var s=[];this.selectedTags.forEach(function(e){return s.push(t.getTagById(e).name)}),e.tags=s.join("_")}return this.course?e.curso=this.course:delete e.curso,this.classroom?e.sala=this.classroom:delete e.sala,this.getTotalPages(),this.$router.replace({name:"events",query:e}),!0},getFilteredEvents:function(){var t=this;return this.getEvents.filter(function(e){var s=!0;return t.name&&(s=(e.name.toLowerCase().includes(t.name.toLowerCase())||t.getUserById(e.authorId).username.toLowerCase().includes(t.name.toLowerCase()))&&s),t.dateStart&&(s=t.$moment(t.dateStart)<=t.$moment(e.dateStart)&&s),t.dateEnd&&(s=t.$moment(t.dateEnd)>=t.$moment(e.dateStart)&&s),t.selectedTags.length&&(s=t.selectedTags.every(function(t){return e.tags.some(function(e){return t===e})})&&s),t.course&&(s=e.coursesIds.some(function(e){return t.getCourseById(e).name.toLowerCase().includes(t.course.toLowerCase())})&&s),t.classroom&&(s=e.classroom.toLowerCase().includes(t.classroom.toLowerCase())&&s),s})},getFilteredEventsSelectedPage:function(){return this.getFilteredEvents.length>this.filteredEventsPerPage?this.getFilteredEvents.slice((this.currentPage-1)*this.filteredEventsPerPage,this.filteredEventsPerPage*this.currentPage):this.getFilteredEvents},getFilteredTags:function(){var t=this,e=[];return this.getTags.forEach(function(t){e.push({text:t.name,value:t.id})}),e.sort(function(t,e){return t.name>e.name?1:t.name<e.name?-1:0}),this.filterTags?e.filter(function(e){return e.text.toLowerCase().includes(t.filterTags.toLowerCase())}):e}}),methods:{handleResize:function(){this.windowWidth=window.innerWidth},clearSearch:function(){this.name="",this.dateStart="",this.dateEnd="",this.selectedTags=[],this.course="",this.classroom="",this.searchCollapse=!1},getTotalPages:function(){this.filtering?this.totalPages=this.getFilteredEvents.length<=this.filteredEventsPerPage?1:Math.floor(this.getFilteredEvents.length/this.filteredEventsPerPage)+1:this.totalPages=this.getEndedEvents.length<=this.endedEventsPerPage?1:Math.floor(this.getEndedEvents.length/this.endedEventsPerPage)+1},classroomFloorCondition:function(t){switch(t){case"Piso 0":return this.classrooms.some(function(t){return"Anfiteatro Joaquim Ribeiro"===t})||this.classrooms.some(function(t){return"B102"===t})||this.classrooms.some(function(t){return"B103A"===t})||this.classrooms.some(function(t){return"B103B"===t})||this.classrooms.some(function(t){return"B104"===t})||this.classrooms.some(function(t){return"B105"===t})||this.classrooms.some(function(t){return"B106"===t})||this.classrooms.some(function(t){return"B107"===t})||this.classrooms.some(function(t){return"B108"===t})||this.classrooms.some(function(t){return"B109"===t})||this.classrooms.some(function(t){return"B110"===t})||this.classrooms.some(function(t){return"B111"===t})||this.classrooms.some(function(t){return"B112"===t});case"Piso 1":return this.classrooms.some(function(t){return"B201"===t})||this.classrooms.some(function(t){return"B202"===t})||this.classrooms.some(function(t){return"B203"===t})||this.classrooms.some(function(t){return"B204"===t})||this.classrooms.some(function(t){return"B205"===t})||this.classrooms.some(function(t){return"B206"===t})||this.classrooms.some(function(t){return"B207"===t})||this.classrooms.some(function(t){return"B208"===t})||this.classrooms.some(function(t){return"B209"===t})||this.classrooms.some(function(t){return"B210"===t})||this.classrooms.some(function(t){return"B211"===t})||this.classrooms.some(function(t){return"B212"===t});case"Piso 2":return this.classrooms.some(function(t){return"B301"===t})||this.classrooms.some(function(t){return"B302"===t})||this.classrooms.some(function(t){return"B303"===t})||this.classrooms.some(function(t){return"B304"===t})||this.classrooms.some(function(t){return"B305"===t})||this.classrooms.some(function(t){return"B306"===t})||this.classrooms.some(function(t){return"B307"===t})||this.classrooms.some(function(t){return"B308"===t})||this.classrooms.some(function(t){return"B309"===t})||this.classrooms.some(function(t){return"B310"===t})||this.classrooms.some(function(t){return"B311"===t})||this.classrooms.some(function(t){return"B312"===t})}}}},wt=Bt,kt=Object(_["a"])(wt,vt,bt,!1,null,null,null),xt=kt.exports,Tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",[s("TitleAtlas",[s("b",{staticClass:"text-atlas2"},[t._v("["+t._s(t.event.category)+"]")]),t._v("\n        "+t._s(t.event.name)+"\n        "),t.btnConditions()?[s("button",{staticClass:"btn btn-atlas2",on:{click:function(e){t.modalEdit=!0}}},[s("i",{staticClass:"fa fa-edit",attrs:{"aria-hidden":"true"}})]),s("button",{staticClass:"btn btn-danger ml-2",on:{click:function(e){t.btnRemoveClicked()}}},[s("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]:t._e()],2),s("div",{staticClass:"row"},[s("div",{staticClass:"ml-auto mr-auto mb-2",class:"Vertical"===t.event.picture.poster.orientation?"col-lg-4 col-md-5 col-6":"col-lg-6 col-12"},[s("img",{staticClass:"img-fluid img-thumbnail",attrs:{src:t.event.picture.poster.url}}),s("img",{staticStyle:{position:"absolute",top:"5px"},style:t.windowWidth>=1200?"right: 310px;":t.windowWidth>=992?"right: 250px;":t.windowWidth>=768?"right: 230px;":"right: 200px;",attrs:{src:"https://api.qrserver.com/v1/create-qr-code/?size=50x50&data=http://localhost:8080/evento/"+t.event.id+"?inscrever=sim",alt:""}})]),s("div",{class:"Vertical"===t.event.picture.poster.orientation?"col-lg-8 col-12":"col-12"},[s("div",[s("h4",[t._v("Descrição:")]),t._v("\n            "+t._s(t.event.description)+"\n          ")]),s("hr",{staticClass:"bg-atlas1"}),s("div",[s("div",[s("i",{staticClass:"fa fa-map-marker-alt text-atlas1",attrs:{"aria-hidden":"true"}}),s("router-link",{staticClass:"text-atlas2 ml-1",attrs:{to:{name:"events",query:{sala:t.event.classroom}}}},[t._v(t._s(t.event.classroom))])],1),s("div",[s("i",{staticClass:"fa fa-calendar-alt text-atlas1 mr-1",attrs:{"aria-hidden":"true"}}),t.event.dateStart===t.event.dateEnd?s("span",[t._v(t._s(t.$moment(t.event.dateStart).format("dddd[,] LL")))]):s("span",[t._v(t._s(t.$moment(t.event.dateStart).format("dddd[,] LL"))+" - "+t._s(t.$moment(t.event.dateEnd).format("dddd[,] LL")))])]),s("div",[s("i",{staticClass:"fa fa-clock text-atlas1",attrs:{"aria-hidden":"true"}}),t._v("\n              "+t._s(t.event.hourStart)+" - "+t._s(t.event.hourEnd)+"\n            ")]),s("div",[s("router-link",{staticClass:"text-atlas2",attrs:{to:{name:"profile",params:{username:t.getUserById(t.event.authorId).username}}}},[s("i",{staticClass:"fa fa-microphone-alt text-atlas1",attrs:{"aria-hidden":"true"}}),t._v("\n                @"+t._s(t.getUserById(t.event.authorId).username)+"\n              ")])],1),s("div",[s("i",{staticClass:"fa fa-users text-atlas1 mr-1",attrs:{"aria-hidden":"true"}}),t.event.enrollments.length?s("a",{staticClass:"text-atlas2",attrs:{href:""},on:{click:function(e){e.preventDefault(),t.modalEnrollments=!0}}},[t._v(t._s(t.event.enrollments.length)+" "+t._s(t.$moment(t.event.dateEnd+" "+t.event.hourEnd).isBefore(t.$moment())?"foram":1===t.event.enrollments.length?"vai":"vão"))]):[t._v(t._s(t.event.enrollments.length)+" "+t._s(t.$moment(t.event.dateEnd+" "+t.event.hourEnd).isBefore(t.$moment())?"foram":1===t.event.enrollments.length?"vai":"vão"))]],2),s("div",[s("i",{staticClass:"fa fa-tags text-atlas1",attrs:{"aria-hidden":"true"}}),t._l(t.event.tags,function(e){return s("router-link",{key:"tag_"+e,staticClass:"text-atlas2",attrs:{to:{name:"events",query:{tags:t.getTagById(e).name}}}},[t._v("#"+t._s(t.getTagById(e).name))])})],2),s("div",[s("i",{staticClass:"fa fa-graduation-cap text-atlas1 mr-1",attrs:{"aria-hidden":"true"}}),t._l(t.event.coursesIds,function(e,a){return s("span",{key:"course_"+e},[s("router-link",{staticClass:"text-atlas2",attrs:{to:{name:"events",query:{curso:t.getCourseById(e).name}}}},[t._v(t._s(t.getCourseById(e).name))]),a<t.event.coursesIds.length-1?s("span",[t._v("/")]):t._e()],1)})],2),t.event.paid?s("div",[s("i",{staticClass:"fa fa-sign-in-alt text-atlas1",attrs:{"aria-hidden":"true"}}),t._v("\n              Preço de inscrição "+t._s(t.event.paymentPrice)+" €\n            ")]):t._e()]),t.$moment(t.event.dateEnd).isSameOrAfter(t.$moment().format("YYYY-MM-DD"))?[s("hr",{staticClass:"bg-atlas1"}),s("button",{staticClass:"btn btn-atlas2 px-5 col-12 mr-auto ml-auto mt-2",staticStyle:{"border-radius":"2em"},attrs:{disabled:t.btnEnrollmentConditions()},on:{click:function(e){t.enroll()}}},[s("i",{staticClass:"fa text-teca4",class:t.event.enrollments.some(function(e){return e.userId===t.getLoggedUserId})?"fa-sign-out-alt":"fa-sign-in-alt"}),t._v("\n              "+t._s(t.event.enrollments.some(function(e){return e.userId===t.getLoggedUserId})?"Desinscrever-me":"Inscrever-me")+"\n            ")])]:t._e()],2)])],1),t.event.picture.gallery.length?s("div",{staticClass:"mt-5"},[s("TitleAtlas",[t._v("Galeria")]),s("b-carousel",{attrs:{id:"picturesCarousel",controls:"",interval:4e3},model:{value:t.slide,callback:function(e){t.slide=e},expression:"slide"}},t._l(t.event.picture.gallery,function(e){return s("b-carousel-slide",{key:t.event.id+"_picture_"+e,attrs:{"img-src":e}})}))],1):t._e(),s("div",{staticClass:"mt-5"},[s("TitleAtlas",[t._v("\n        Discussões\n        "),-1!==t.getLoggedUserId?s("button",{staticClass:"btn btn-atlas2",on:{click:function(e){t.modal=!0}}},[s("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}})]):t._e()]),t.event.discussions.length?[t._l(t.getDiscussionsSelectedPage,function(t){return s("EventDiscussion",{key:t.id,staticClass:"mb-1",attrs:{discussion:t}})}),t.event.discussions.length>t.discussionsPerPage?s("div",{staticClass:"mt-3"},[s("vs-pagination",{attrs:{total:t.totalPages},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1):t._e()]:s("p",[t._v("Este evento ainda não possui nenhuma discussão.")])],2),s("div",{staticClass:"mt-5"},[s("TitleAtlas",[t._v("Eventos relacionados")]),t.windowWidth>=768?t._l(t.getSugestedEvents,function(t){return s("EventListItem",{key:"sugested_event_"+t.id,staticClass:"mb-1",attrs:{event:t}})}):t._l(t.getSugestedEvents,function(t){return s("EventCard",{key:"sugested_event_"+t.id,staticClass:"mb-1",attrs:{event:t}})})],2),s("b-modal",{attrs:{title:"Utilizadores inscritos - "+t.event.enrollments.length,"header-bg-variant":"atlas1","header-text-variant":"white",centered:!0,"hide-footer":!0},on:{hidden:function(e){t.enrollmentsFilter=""}},model:{value:t.modalEnrollments,callback:function(e){t.modalEnrollments=e},expression:"modalEnrollments"}},[s("b-form-input",{attrs:{id:"enrollmentsFilter",placeholder:"Filtrar por utilizador...",type:"text"},model:{value:t.enrollmentsFilter,callback:function(e){t.enrollmentsFilter=e},expression:"enrollmentsFilter"}}),s("hr"),t._l(t.getFilteredEnrollments,function(e,a){return s("div",{key:"enrollment_"+e.userId},[s("div",{staticClass:"text-center"},[s("router-link",{staticClass:"text-atlas2 ml-2",attrs:{to:{name:"profile",params:{username:t.getUserById(e.userId).username}}}},[s("img",{staticClass:"rounded-circle img-thumbnail img-fluid",staticStyle:{height:"100px",width:"100px"},attrs:{src:t.getUserById(e.userId).picture,alt:""}})]),t.windowWidth<520?s("br"):t._e(),s("router-link",{staticClass:"text-atlas2 ml-2",attrs:{to:{name:"profile",params:{username:t.getUserById(e.userId).username}}}},[t._v("@"+t._s(t.getUserById(e.userId).username))]),t._v("\n          / "+t._s(t.$moment(e.moment).format("LLL"))+"\n        ")],1),t.btnConditions()?[s("div",{staticClass:"row mt-2"},[t.event.paid?s("button",{staticClass:"btn btn-atlas2 col-12 col-sm-6 ml-auto",on:{click:function(t){e.paid?e.paid=!1:e.paid=!0}}},[s("i",{staticClass:"fa",class:e.paid?"fa-times":"fa-check",attrs:{"aria-hidden":"true"}}),t._v("\n              "+t._s(e.paid?"Remover pagamento":"Validar pagamento")+"\n            ")]):t._e(),s("button",{staticClass:"btn btn-danger",class:t.event.paid?"col-12 col-sm-6 mr-auto":"col-6 ml-auto mr-3",attrs:{disabled:e.paid},on:{click:function(s){t.btnRemoveEnrollmentClicked(e.userId)}}},[s("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}}),t._v(" Remover inscrição\n            ")])])]:t._e(),a!==t.event.enrollments.length-1?s("hr"):t._e()],2)})],2),s("b-modal",{attrs:{title:"Adicionar discussão","header-bg-variant":"atlas1","header-text-variant":"white",centered:!0,"hide-footer":!0},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[s("FormDiscussion",{attrs:{eventId:this.event.id}})],1),s("b-modal",{attrs:{title:"Editar evento","header-bg-variant":"atlas1","header-text-variant":"white",centered:!0,"hide-footer":!0},model:{value:t.modalEdit,callback:function(e){t.modalEdit=e},expression:"modalEdit"}},[s("FormEvent",{attrs:{edit:t.event}})],1)],1)},Ut=[],Pt=(s("20d6"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-atlas2 p-2 text-white"},[s("div",{staticClass:"row px-3"},[s("div",{staticClass:"mr-3"},[s("i",{staticClass:"fa fa-arrow-up text-atlas1 upvoteButton",attrs:{"aria-hidden":"true"},on:{click:t.buttonUpvoteClicked}}),s("br"),t._v("\n\t\t\t"+t._s(t.discussion.upvotes-t.discussion.downvotes)+"\n\t\t\t"),s("br"),s("i",{staticClass:"fa fa-arrow-down text-atlas1 downvoteButton",attrs:{"aria-hidden":"true"},on:{click:t.buttonDownvoteClicked}})]),s("div",[s("div",[s("router-link",{staticClass:"text-white",attrs:{to:{name:"eventDiscussion",params:{id:t.$route.params.id,discussionId:t.discussion.id}}}},[s("b",{staticClass:"text-atlas3",class:"Anúncio"===t.discussion.category?"bg-atlas1 p-1 rounded":""},[t._v("["+t._s(t.discussion.category)+"]")]),t._v("\n\t\t\t\t\t"+t._s(t.discussion.title)+"\n\t\t\t\t")])],1),s("div",{staticClass:"row mt-4"},[s("div",{staticClass:"ml-3"},[s("router-link",{staticClass:"text-white",attrs:{to:{name:"profile",params:{username:t.getUserById(t.discussion.authorId).username}}}},[s("i",{staticClass:"fa fa-user text-atlas1",attrs:{"aria-hidden":"true"}}),s("small",[t._v("@"+t._s(t.getUserById(t.discussion.authorId).username))])])],1),s("div",{staticClass:"ml-3"},[s("i",{staticClass:"fa fa-comments text-atlas1",attrs:{"aria-hidden":"true"}}),s("small",[t._v(" "+t._s(t.discussion.answers.length)+" "+t._s(1===t.discussion.answers.length?"resposta":"respostas"))])]),s("div",{staticClass:"ml-3"},[s("i",{staticClass:"fa fa-calendar-alt text-atlas1",attrs:{"aria-hidden":"true"}}),s("small",[t._v(" "+t._s(t.$moment(t.discussion.moment).format("LL")))])]),s("div",{staticClass:"ml-3"},[s("i",{staticClass:"fa fa-clock text-atlas1",attrs:{"aria-hidden":"true"}}),s("small",[t._v(" "+t._s(t.$moment(t.discussion.moment).format("HH:mm")))])])])])])])}),Dt=[],Ot={props:["discussion"],data:function(){return{mouseOverUpvote:!1}},methods:Object(r["a"])({},Object(o["b"])(["upvoteEventDiscussionByEventIdDiscussionId","downvoteEventDiscussionByEventIdDiscussionId"]),{buttonUpvoteClicked:function(){-1!==this.getLoggedUserId?this.userAlreadyVoted?this.$snotify.error("Já votou nessa discussão","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0}):this.upvoteEventDiscussionByEventIdDiscussionId({eventId:parseInt(this.$route.params.id),discussionId:this.discussion.id}):this.$snotify.error("Faça login para votar","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})},buttonDownvoteClicked:function(){-1!==this.getLoggedUserId?this.userAlreadyVoted?this.$snotify.error("Já votou nessa discussão","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0}):this.downvoteEventDiscussionByEventIdDiscussionId({eventId:parseInt(this.$route.params.id),discussionId:this.discussion.id}):this.$snotify.error("Faça login para votar","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})}}),computed:Object(r["a"])({},Object(o["c"])(["getEventDiscussionsById","getLoggedUserId","getUserById","getEventUrlByName"]),{userAlreadyVoted:function(){var t=this;return this.discussion.usersVoted.some(function(e){return e===t.getLoggedUserId})}})},jt=Ot,At=(s("32e6"),Object(_["a"])(jt,Pt,Dt,!1,null,null,null)),Lt=At.exports,Nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-form",{on:{submit:function(e){e.preventDefault(),t.edit?t.editDiscussion():t.createDiscussion()}}},[s("b-form-group",{attrs:{label:"Título","label-for":"name",state:t.titleState,"invalid-feedback":t.titleInvalidFeedback}},[s("b-form-input",{attrs:{id:"name",type:"text",maxlength:"50",state:t.titleState},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),s("b-form-group",{attrs:{label:"Categoria"}},[s("b-form-radio-group",{attrs:{buttons:"","button-variant":"outline-atlas2",options:t.categories,name:"categories"},model:{value:t.selectedCategory,callback:function(e){t.selectedCategory=e},expression:"selectedCategory"}})],1),s("b-form-group",{attrs:{label:"Texto","label-for":"text",state:t.textState,"invalid-feedback":t.textInvalidFeedback}},[s("b-form-textarea",{attrs:{id:"text",rows:3,"max-rows":6,state:t.textState},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1),s("button",{staticClass:"btn btn-atlas1 col-12",attrs:{type:"submit"}},[t._v(t._s(t.edit?"Editar discussão":"Criar discussão"))])],1)},$t=[],Rt={props:["eventId","edit"],created:function(){this.edit&&(this.title=this.edit.title,this.selectedCategory=this.edit.category,this.text=this.edit.content),-1!==this.getLoggedUserId&&(this.getLoggedUserId!==this.getEventById(this.eventId).authorId&&3!==this.getUserById(this.getLoggedUserId).profileId||this.categories.push("Anúncio"))},data:function(){return{attemptSubmit:!1,title:"",categories:["Dúvida","Sugestão"],selectedCategory:"Dúvida",text:""}},methods:{createDiscussion:function(){this.attemptSubmit=!0,this.titleState&&this.textState?(this.$store.dispatch("createEventDiscussion",{eventId:this.eventId,discussion:{id:this.getLastDiscussionIdByEventId(this.eventId)+1,authorId:this.getLoggedUserId,title:this.title,category:this.selectedCategory,content:this.text,upvotes:0,downvotes:0,usersVoted:[],moment:this.$moment(),answers:[]}}),this.$snotify.success("Discussão criada","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0}),this.resetFormCreateDiscussion()):this.$snotify.error("Preencha todos os campos corretamente","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})},editDiscussion:function(){this.attemptSubmit=!0,this.titleState&&this.textState?(this.$store.dispatch("editEventDiscussionByEventIdDiscussionId",{eventId:this.eventId,discussionId:this.edit.id,discussion:{title:this.title,category:this.selectedCategory,content:this.text}}),this.$snotify.success("Discussão editada","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})):this.$snotify.error("Preencha todos os campos corretamente","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})},resetFormCreateDiscussion:function(){this.attemptSubmit=!1,this.title="",this.selectedCategory="Dúvida",this.text=""}},computed:Object(r["a"])({},Object(o["c"])(["getLastDiscussionIdByEventId","getLoggedUserId","getEventById","getUserById"]),{titleState:function(){return this.title||this.attemptSubmit?!(!this.title&&this.attemptSubmit):null},titleInvalidFeedback:function(){return!this.title&&this.attemptSubmit?"Introduza o título":null},textState:function(){return this.text||this.attemptSubmit?!(!this.text&&this.attemptSubmit):null},textInvalidFeedback:function(){return!this.text&&this.attemptSubmit?"Introduza o texto":null}})},Ft=Rt,zt=Object(_["a"])(Ft,Nt,$t,!1,null,null,null),Vt=zt.exports,qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-form",{on:{submit:function(e){e.preventDefault(),t.edit?t.editEvent():t.addEvent()}}},[s("b-form-group",{class:t.edit?"":"mt-4",attrs:{label:"Nome","label-for":"name","invalid-feedback":t.nameInvalidFeedback,"valid-feedback":t.nameValidFeedback,state:t.nameState}},[s("b-form-input",{attrs:{id:"name",state:t.nameState,type:"text",maxlength:"50"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),s("b-form-group",{staticClass:"mt-4",attrs:{label:"Categoria"}},[s("b-form-radio-group",{attrs:{buttons:"","button-variant":"outline-atlas2",options:t.categories,name:"categories",stacked:t.windowWidth<1e3},model:{value:t.selectedCategory,callback:function(e){t.selectedCategory=e},expression:"selectedCategory"}})],1),s("b-form-group",{attrs:{label:"Tags",state:t.tagsState,"invalid-feedback":t.tagsInvalidFeedback}},[s("b-form-input",{attrs:{id:"filterTag",type:"text",maxlength:"50",placeholder:"Filtrar tags..."},model:{value:t.filterTag,callback:function(e){t.filterTag=e},expression:"filterTag"}}),s("b-form-checkbox-group",{staticClass:"mt-2 px-1",staticStyle:{"overflow-y":"scroll","max-height":"200px"},attrs:{name:"tags",options:t.filteredTags,stacked:!0,state:t.tagsState},model:{value:t.selectedTags,callback:function(e){t.selectedTags=e},expression:"selectedTags"}})],1),s("b-form-group",{staticClass:"mt-4",attrs:{label:"Descrição"}},[s("b-form-textarea",{attrs:{id:"description",state:t.descriptionState,rows:3,maxlength:"500"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),s("small",[t._v("Máximo 500 caracteres")])],1),s("b-form-group",{attrs:{label:"Hora de início","label-for":"hourStart",state:t.hourStartState,"invalid-feedback":t.hourStartInvalidFeedback}},[s("b-form-input",{attrs:{id:"hourStart",state:t.hourStartState,type:"time"},model:{value:t.hourStart,callback:function(e){t.hourStart=e},expression:"hourStart"}})],1),s("b-form-group",{attrs:{label:"Hora de fim","label-for":"hourEnd",state:t.hourEndState,"invalid-feedback":t.hourEndInvalidFeedback}},[s("b-form-input",{attrs:{id:"hourEnd",state:t.hourEndState,type:"time"},model:{value:t.hourEnd,callback:function(e){t.hourEnd=e},expression:"hourEnd"}})],1),s("b-form-group",{attrs:{label:"Data de início","label-for":"dateStart","invalid-feedback":t.dateStartInvalidFeedback,state:t.dateStartState}},[s("b-form-input",{attrs:{id:"dateStart",state:t.dateStartState,type:"date",min:t.getTodays()},model:{value:t.dateStart,callback:function(e){t.dateStart=e},expression:"dateStart"}})],1),t.dateStart?s("b-form-group",{attrs:{label:"Duração (dias)"}},[s("button",{staticClass:"btn btn-atlas2",attrs:{disabled:1===t.duration},on:{click:function(e){e.preventDefault(),t.duration--}}},[t._v("-")]),s("span",{staticClass:"mx-3"},[t._v(t._s(t.duration))]),s("button",{staticClass:"btn btn-atlas2",attrs:{disabled:11===t.duration},on:{click:function(e){e.preventDefault(),t.duration++}}},[t._v("+")])]):t._e(),s("transition",{attrs:{name:"fade"}},[t.duration>1?s("b-form-group",{attrs:{label:"Data de fim","label-for":"dateEnd",state:t.dateStartState}},[s("b-form-input",{attrs:{id:"dateEnd",state:t.dateStartState,type:"date",disabled:!0,value:t.dateEnd}})],1):t._e()],1),s("b-form-group",{staticClass:"mt-4",attrs:{label:"Evento pago?"}},[s("b-form-radio-group",{attrs:{buttons:"","button-variant":"outline-atlas2",options:t.optionsPayment,name:"payment"},model:{value:t.selectedPayment,callback:function(e){t.selectedPayment=e},expression:"selectedPayment"}})],1),s("transition",{attrs:{name:"fade"}},[t.selectedPayment?s("b-form-group",{attrs:{label:"Preço de inscrição (€)","label-for":"price",state:t.priceState,"invalid-feedback":t.priceInvalidFeedback}},[s("b-form-input",{attrs:{id:"price",state:t.priceState,type:"number"},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1):t._e()],1),s("b-form-group",{staticClass:"mt-4",attrs:{label:"Sala",state:t.classroomState,"invalid-feedback":t.classroomInvalidFeedback}},[s("b-form-select",{attrs:{state:t.classroomState},model:{value:t.classroom,callback:function(e){t.classroom=e},expression:"classroom"}},[s("option",{domProps:{value:null}},[t._v("Selecione uma sala")]),s("option",{attrs:{value:"Associação de Estudantes"}},[t._v("Associação de Estudantes")]),s("option",{attrs:{value:"Auditório"}},[t._v("Auditório")]),s("optgroup",{attrs:{label:"Piso 0"}},[s("option",{attrs:{value:"Anfiteatro Joaquim Ribeiro"}},[t._v("Anfiteatro Joaquim Ribeiro")]),s("option",{attrs:{value:"B102"}},[t._v("B102")]),s("option",{attrs:{value:"B103A"}},[t._v("B103A")]),s("option",{attrs:{value:"B103B"}},[t._v("B103B")]),s("option",{attrs:{value:"B104"}},[t._v("B104")]),s("option",{attrs:{value:"B105"}},[t._v("B105")]),s("option",{attrs:{value:"B106"}},[t._v("B106")]),s("option",{attrs:{value:"B107"}},[t._v("B107")]),s("option",{attrs:{value:"B108"}},[t._v("B108")]),s("option",{attrs:{value:"B109"}},[t._v("B109")]),s("option",{attrs:{value:"B110"}},[t._v("B110")]),s("option",{attrs:{value:"B111"}},[t._v("B111")]),s("option",{attrs:{value:"B112"}},[t._v("B112")])]),s("optgroup",{attrs:{label:"Piso 1"}},[s("option",{attrs:{value:"B201"}},[t._v("B201")]),s("option",{attrs:{value:"B202"}},[t._v("B202")]),s("option",{attrs:{value:"B203"}},[t._v("B203")]),s("option",{attrs:{value:"B204"}},[t._v("B204")]),s("option",{attrs:{value:"B205"}},[t._v("B205")]),s("option",{attrs:{value:"B206"}},[t._v("B206")]),s("option",{attrs:{value:"B207"}},[t._v("B207")]),s("option",{attrs:{value:"B208"}},[t._v("B208")]),s("option",{attrs:{value:"B209"}},[t._v("B209")]),s("option",{attrs:{value:"B210"}},[t._v("B210")]),s("option",{attrs:{value:"B211"}},[t._v("B211")]),s("option",{attrs:{value:"B212"}},[t._v("B212")])]),s("optgroup",{attrs:{label:"Piso 2"}},[s("option",{attrs:{value:"B301"}},[t._v("B301")]),s("option",{attrs:{value:"B302"}},[t._v("B302")]),s("option",{attrs:{value:"B303"}},[t._v("B303")]),s("option",{attrs:{value:"B304"}},[t._v("B304")]),s("option",{attrs:{value:"B305"}},[t._v("B305")]),s("option",{attrs:{value:"B306"}},[t._v("B306")]),s("option",{attrs:{value:"B307"}},[t._v("B307")]),s("option",{attrs:{value:"B308"}},[t._v("B308")]),s("option",{attrs:{value:"B309"}},[t._v("B309")]),s("option",{attrs:{value:"B310"}},[t._v("B310")]),s("option",{attrs:{value:"B311"}},[t._v("B311")]),s("option",{attrs:{value:"B312"}},[t._v("B312")])])])],1),s("b-form-group",{staticClass:"mt-4",attrs:{label:"Cursos",state:t.coursesState,"invalid-feedback":t.coursesInvalidFeedback}},[s("b-form-checkbox-group",{staticClass:"mt-2 px-1",attrs:{name:"courses",options:t.courses,stacked:!0,state:t.coursesState},model:{value:t.selectedCourses,callback:function(e){t.selectedCourses=e},expression:"selectedCourses"}})],1),s("hr",{staticClass:"mt-4"}),s("b-form-group",{staticClass:"mt-4",attrs:{label:"URL miniatura (proporção 16:9)","label-for":"thumbnail","invalid-feedback":t.thumbnailInvalidFeedback,state:t.thumbnailState}},[s("b-form-input",{attrs:{id:"thumbnail",state:t.thumbnailState,type:"url"},model:{value:t.thumbnail,callback:function(e){t.thumbnail=e},expression:"thumbnail"}}),s("small",[t._v("Imagem que aparecerá no card do evento. É mandatório que a proporção seja 16:9.")])],1),s("b-form-group",{staticClass:"mt-4",attrs:{label:"URL poster","label-for":"poster","invalid-feedback":t.posterInvalidFeedback,state:t.posterState}},[s("b-form-input",{attrs:{id:"poster",state:t.posterState,type:"url"},model:{value:t.poster,callback:function(e){t.poster=e},expression:"poster"}})],1),s("transition",{attrs:{name:"fade",mode:"in-out"}},[t.poster?s("b-form-group",{staticClass:"mt-4",attrs:{label:"Orientação do poster"}},[s("b-form-radio-group",{attrs:{buttons:"","button-variant":"outline-atlas2",options:["Vertical","Horizontal"],name:"posterOrientation"},model:{value:t.posterOrientation,callback:function(e){t.posterOrientation=e},expression:"posterOrientation"}})],1):t._e()],1),s("b-form-group",{staticClass:"mt-4",attrs:{label:"Galeria de fotos?"}},[s("b-form-radio-group",{attrs:{buttons:"","button-variant":"outline-atlas2",options:t.optionsGallery,name:"gallery"},model:{value:t.selectedGallery,callback:function(e){t.selectedGallery=e},expression:"selectedGallery"}})],1),s("transition-group",{attrs:{name:"fade",mode:"in-out"}},[t.selectedGallery?s("b-form-group",{key:"transition1",attrs:{label:"Quantidade de fotos"}},[s("button",{staticClass:"btn btn-atlas2",attrs:{disabled:2===t.photoQuantity},on:{click:function(e){e.preventDefault(),t.decreasePhotoQuantity()}}},[t._v("-")]),s("span",{staticClass:"mx-3"},[t._v(t._s(t.photoQuantity))]),s("button",{staticClass:"btn btn-atlas2",on:{click:function(e){e.preventDefault(),t.increasePhotoQuantity()}}},[t._v("+")])]):t._e(),t.selectedGallery?s("b-card",{key:"transition2"},t._l(t.photoQuantity,function(e){return s("b-form-group",{key:e,attrs:{label:"URL foto "+e,"label-for":"name",state:t.galleryState,"invalid-feedback":t.galleryInvalidFeedback}},[s("b-form-input",{attrs:{id:"name",type:"url",state:t.galleryState},model:{value:t.photos[e-1],callback:function(s){t.$set(t.photos,e-1,s)},expression:"photos[photoInput - 1]"}})],1)})):t._e()],1),s("button",{staticClass:"btn btn-atlas1 col-12 mt-2",attrs:{type:"submit"}},[t._v(t._s(t.edit?"Editar evento":"Adicionar evento"))])],1),s("vue-snotify")],1)},Mt=[],Wt={props:["edit"],watch:{edit:function(t,e){this.name=t.name,this.selectedCategory=t.category,this.selectedTags=t.tags,this.description=t.description,this.hourStart=t.hourStart,this.hourEnd=t.hourEnd,this.duration=t.durationDays,this.dateStart=t.dateStart,this.selectedPayment=t.paid,this.price=t.paymentPrice,this.classroom=t.classroom,this.selectedCourses=t.coursesIds,this.thumbnail=t.picture.thumbnail,this.poster=t.picture.poster.url,this.posterOrientation=t.picture.poster.orientation,this.selectedGallery=t.picture.gallery.length>0,this.photoQuantity=t.picture.gallery.length,this.photos=t.picture.gallery.length?t.picture.gallery:["",""]}},data:function(){return{name:"",selectedCategory:"Evento",categories:["Evento","Seminário","Workshop","Conferência","Meeting","Exposição"],selectedTags:[],tags:[],filterTag:"",description:"",hourStart:"",hourEnd:"",duration:1,dateStart:"",selectedPayment:!1,optionsPayment:[{text:"Não",value:!1},{text:"Sim",value:!0}],price:0,classroom:null,courses:[],selectedCourses:[],thumbnail:"",poster:"",posterOrientation:"Vertical",selectedGallery:!1,optionsGallery:[{text:"Não",value:!1},{text:"Sim",value:!0}],photoQuantity:2,photos:["",""],attemptSubmit:!1,windowWidth:0}},created:function(){var t=this;window.addEventListener("resize",this.handleResize),this.handleResize(),this.getTags.forEach(function(e){t.tags.push({text:e.name,value:e.id})}),this.getCourses.forEach(function(e){t.courses.push({text:e.name,value:e.id})}),this.edit&&(this.name=this.edit.name,this.selectedCategory=this.edit.category,this.selectedTags=this.edit.tags,this.description=this.edit.description,this.hourStart=this.edit.hourStart,this.hourEnd=this.edit.hourEnd,this.duration=this.edit.durationDays,this.dateStart=this.edit.dateStart,this.selectedPayment=this.edit.paid,this.price=this.edit.paymentPrice,this.classroom=this.edit.classroom,this.selectedCourses=this.edit.coursesIds,this.thumbnail=this.edit.picture.thumbnail,this.poster=this.edit.picture.poster.url,this.posterOrientation=this.edit.picture.poster.orientation,this.selectedGallery=this.edit.picture.gallery.length>0,this.photoQuantity=this.edit.picture.gallery.length,this.photos=this.edit.picture.gallery.length?this.edit.picture.gallery:["",""])},methods:{handleResize:function(){this.windowWidth=window.innerWidth},getTodays:function(){return new Date},addEvent:function(){if(this.attemptSubmit=!0,this.nameState&&this.tagsState&&this.descriptionState&&this.dateStartState&&this.hourStartState&&this.hourEndState&&(!this.selectedPayment||this.selectedPayment&&this.priceState)&&this.classroomState&&this.coursesState&&this.thumbnailState&&this.posterState&&this.galleryState){this.selectedGallery||(this.photos=[]);var t={id:this.getLastEventId+1,authorId:this.getLoggedUserId,name:this.name,category:this.selectedCategory,tags:this.selectedTags,description:this.description,classroom:this.classroom,coursesIds:this.selectedCourses,hourStart:this.hourStart,hourEnd:this.hourEnd,dateStart:this.dateStart,durationDays:this.duration,dateEnd:this.dateEnd,paymentPrice:this.price,picture:{thumbnail:this.thumbnail,poster:{orientation:this.posterOrientation,url:this.poster},gallery:this.photos},discussions:[],enrollments:[]};this.$store.dispatch("addEvent",t);var e={eventId:t.id,event:this.getEventById(t.id),tags:t.tags,authorId:t.authorId,courses:t.coursesIds,moment:this.$moment()};this.$store.dispatch("insertNewNotifications",e),this.clearForm(),this.$snotify.success("Evento adicionado","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})}else this.$snotify.error("Preencha todos os campos corretamente","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})},editEvent:function(){this.attemptSubmit=!0,this.nameState&&this.tagsState&&this.descriptionState&&this.dateStartState&&this.hourStartState&&this.hourEndState&&(!this.selectedPayment||this.selectedPayment&&this.priceState)&&this.classroomState&&this.coursesState&&this.thumbnailState&&this.posterState&&this.galleryState?(this.selectedGallery||(this.photos=[]),this.$store.dispatch("editEventById",{id:this.edit.id,event:{name:this.name,category:this.selectedCategory,tags:this.selectedTags,description:this.description,classroom:this.classroom,coursesIds:this.selectedCourses,hourStart:this.hourStart,hourEnd:this.hourEnd,dateStart:this.dateStart,durationDays:this.duration,dateEnd:this.dateEnd,paymentPrice:this.price,picture:{thumbnail:this.thumbnail,poster:{orientation:this.posterOrientation,url:this.poster},gallery:this.photos}}}),this.$snotify.success("Evento editado","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})):this.$snotify.error("Preencha todos os campos corretamente","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})},decreasePhotoQuantity:function(){this.photos.pop(),this.photoQuantity--},increasePhotoQuantity:function(){this.photos.push(""),this.photoQuantity++},clearForm:function(){this.name="",this.selectedCategory="",this.selectedTags=[],this.filterTag="",this.description="",this.hourStart="",this.hourEnd="",this.dateStart="",this.duration=1,this.selectedPayment=!1,this.price=0,this.classroom=null,this.selectedCourses=[],this.thumbnail="",this.poster="",this.posterOrientation="Vertical",this.selectedGallery=!1,this.photoQuantity=2,this.photos=["",""],this.attemptSubmit=!1}},computed:Object(r["a"])({},Object(o["c"])(["getLoggedUserId","getLastEventId","getTags","getCourses","getEventById"]),{nameState:function(){return this.name||this.attemptSubmit?!(!this.name&&this.attemptSubmit):null},nameInvalidFeedback:function(){return!this.name&&this.attemptSubmit?"Introduza o nome do curso":null},nameValidFeedback:function(){return 50===this.name.length?"Máximo 50 caracteres":null},filteredTags:function(){var t=this;return this.filterTag?this.tags.filter(function(e){return e.text.toLowerCase().includes(t.filterTag.toLowerCase())}):this.tags},tagsState:function(){return this.selectedTags.length||this.attemptSubmit?!(!this.selectedTags.length&&this.attemptSubmit):null},tagsInvalidFeedback:function(){return!this.selectedTags.length&&this.attemptSubmit?"Selecione pelo menos uma tag":null},descriptionState:function(){return this.description||this.attemptSubmit?!(!this.description&&this.attemptSubmit):null},durationState:function(){return!(!this.duration||this.duration>3)},durationInvalidFeedback:function(){return this.duration?this.duration>3?"Máximo 3 dias seguidos":null:"Insira a duração do evento"},hourStartState:function(){return this.hourStart||this.attemptSubmit?!(!this.hourStart&&this.attemptSubmit):null},hourStartInvalidFeedback:function(){return!this.hourStart&&this.attemptSubmit?"Introduza a hora de início":null},hourEndState:function(){return this.hourEnd||this.attemptSubmit?!(!this.hourEnd&&this.attemptSubmit):null},hourEndInvalidFeedback:function(){return!this.hourEnd&&this.attemptSubmit?"Introduza a hora de fim":null},dateStartState:function(){if(this.edit)return this.dateStart||this.attemptSubmit?!(!this.dateStart&&this.attemptSubmit):null;var t=new Date(this.dateStart);return t.setDate(t.getDate()+1),this.dateStart||this.attemptSubmit?!(!this.dateStart&&this.attemptSubmit)&&!(t<this.getTodays()):null},dateStartInvalidFeedback:function(){var t=new Date(this.dateStart);return t.setDate(t.getDate()+1),!this.dateStart&&this.attemptSubmit?"Insira a data de início do evento":t<this.getTodays()?"A data de início tem de ser igual ou superior à data atual":null},dateEnd:function(){if(this.dateStart){var t=new Date(this.dateStart);t.setDate(t.getDate()+this.duration-1);var e=t.getDate(),s=t.getMonth()+1,a=t.getFullYear();return e<10&&(e="0"+e),s<10&&(s="0"+s),a+"-"+s+"-"+e}return""},priceState:function(){return this.price||this.attemptSubmit?!(!this.price&&this.attemptSubmit)&&!(this.price<1):null},priceInvalidFeedback:function(){return!this.price&&this.attemptSubmit?"Insira o preço de inscrição (€)":this.price<1?"O preço de inscrição (€) deve ser igual ou superior a 1":null},classroomState:function(){return this.classroom||this.attemptSubmit?!(!this.classroom&&this.attemptSubmit):null},classroomInvalidFeedback:function(){return!this.classroom&&this.attemptSubmit?"Selecione uma sala":null},coursesState:function(){return this.selectedCourses.length||this.attemptSubmit?!(!this.selectedCourses.length&&this.attemptSubmit):null},coursesInvalidFeedback:function(){return!this.selectedCourses.length&&this.attemptSubmit?"Selecione pelo menos um curso":null},thumbnailState:function(){return this.thumbnail||this.attemptSubmit?!(!this.thumbnail&&this.attemptSubmit):null},thumbnailInvalidFeedback:function(){return!this.thumbnail&&this.attemptSubmit?"Introduza o URL da miniatura":null},posterState:function(){return this.poster||this.attemptSubmit?!(!this.poster&&this.attemptSubmit):null},posterInvalidFeedback:function(){return!this.poster&&this.attemptSubmit?"Introduza o URL do poster":null},galleryState:function(){return this.photos.length||this.attemptSubmit?!(!this.photos.every(function(t){return t.length>0})&&!this.attemptSubmit):null},galleryInvalidFeedback:function(){return this.photos.every(function(t){return t.length>0})||this.attemptSubmit?null:"Introduza as fotografias"}})},Ht=Wt,Gt=Object(_["a"])(Ht,qt,Mt,!1,null,null,null),Yt=Gt.exports,Jt={name:"EventInfoView",components:{TitleAtlas:K,Carousel:tt.a,EventDiscussion:Lt,FormDiscussion:Vt,FormEvent:Yt,EventListItem:mt,EventCard:rt},beforeRouteUpdate:function(t,e,s){"eventsInfo"===t.name&&"sim"===t.query.inscrever&&this.enroll(),s()},created:function(){var t=this;"eventsInfo"===this.$route.name&&"sim"===this.$route.query.inscrever&&(this.$moment(this.event.dateEnd+" "+this.event.hourEnd).isSameOrAfter(this.$moment().format("YYYY-MM-DD HH:mm"))?this.event.enrollments.some(function(e){return e.userId===t.getLoggedUserId})?this.$vs.dialog({type:"confirm",color:"primary",title:"Já se encontra inscrito",acceptText:"Entendido",cancelText:"",text:"Já efetuou inscrição no evento ".concat(this.event.name,".")}):this.enroll():this.$vs.dialog({type:"confirm",color:"danger",title:"Inscrições fechadas",acceptText:"Entendido",cancelText:"",text:"Este evento já ocorreu, portanto tem as inscrições fechadas."})),this.$store.subscribe(function(e){"EDIT_EVENT_BY_ID"===e.type&&(t.modalEdit=!1),"CREATE_EVENT_DISCUSSION"===e.type&&(t.modal=!1)}),window.addEventListener("resize",this.handleResize),this.handleResize()},data:function(){return{modalEdit:!1,slide:0,modalEnrollments:!1,enrollmentsFilter:"",modal:!1,currentPage:1,discussionsPerPage:5,windowWidth:0}},computed:Object(r["a"])({},Object(o["c"])(["getEventById","getTagById","getUserById","getLoggedUserId","getCourseById","getEventsByIdsTagsIdsCourses"]),{event:function(){return this.getEventById(parseInt(this.$route.params.id))},totalPages:function(){return this.event.discussions.length<=this.discussionsPerPage?1:Math.floor(this.event.discussions.length/this.discussionsPerPage)+1},getDiscussionsByPopularity:function(){return this.event.discussions.sort(function(t,e){return t.upvotes-t.downvotes<e.upvotes-e.downvotes?1:t.upvotes-t.downvotes>e.upvotes-e.downvotes?-1:0})},getDiscussionsSelectedPage:function(){return this.event.discussions.sort(function(t,e){return t.upvotes-t.downvotes<e.upvotes-e.downvotes?1:t.upvotes-t.downvotes>e.upvotes-e.downvotes?-1:0}),this.event.discussions.length>this.discussionsPerPage?this.event.discussions.slice((this.currentPage-1)*this.discussionsPerPage,this.discussionsPerPage*this.currentPage):this.event.discussions},getSugestedEvents:function(){var t=this,e=this.getEventsByIdsTagsIdsCourses(this.event.tags,this.event.coursesIds),s=e.findIndex(function(e){return e===t.event});return-1!==s&&e.splice(s,1),e.sort(function(t,e){return.5-Math.random()}),e.length=e.length>3?3:e.length,e},getFilteredEnrollments:function(){var t=this;return this.enrollmentsFilter?this.event.enrollments.filter(function(e){return t.getUserById(e.userId).username.toLowerCase().includes(t.enrollmentsFilter.toLowerCase())}):this.event.enrollments}}),methods:{handleResize:function(){this.windowWidth=window.innerWidth},getEventTags:function(){var t=this,e=[];return this.event.tags.forEach(function(s){e.push("#"+t.getTagById(s).name)}),e},getEventCourses:function(){var t=this,e=[];return this.event.coursesIds.forEach(function(s){e.push(t.getCourseById(s).name)}),e},btnConditions:function(){return-1!==this.getLoggedUserId&&(this.getLoggedUserId===this.event.authorId||3===this.getUserById(this.getLoggedUserId).profileId)},btnRemoveClicked:function(){var t=this;this.$vs.dialog({type:"confirm",color:"danger",title:"Remover evento?",acceptText:"Remover",cancelText:"Cancelar",text:"Este evento e todos os dados a este associado serão removidos para sempre.",accept:function(){t.$store.dispatch("removeEventById",t.event.id),t.$snotify.success("Evento removido","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0}),t.$router.replace({name:"events"})}})},btnEnrollmentConditions:function(){return-1===this.getLoggedUserId||this.getLoggedUserId===this.event.authorId&&3===this.getUserById(this.getLoggedUserId).profileId},enroll:function(){var t=this;-1===this.getLoggedUserId?this.$vs.dialog({type:"confirm",color:"primary",title:"Inicie sessão",acceptText:"Iniciar sessão",cancelText:"Cancelar",text:"Deve iniciar sessão para poder inscrever-se no evento ".concat(this.event.name,"."),accept:function(){t.$router.push({name:"login"})}}):3===this.getUserById(this.getLoggedUserId).profileId?this.$vs.dialog({type:"confirm",color:"danger",title:"Erro",acceptText:"Entendido",cancelText:"",text:"Administradores não se podem inscrever em eventos."}):this.event.enrollments.some(function(e){return e.userId===t.getLoggedUserId})?(this.$store.dispatch("removeEventEnrollmentByEventIdUserId",{eventId:this.event.id,userId:this.getLoggedUserId}),this.historyUpdate("REMOVE"),this.$vs.dialog({type:"confirm",color:"primary",title:"Inscrição removida",acceptText:"Entendido",cancelText:"",text:"A sua inscrição no evento ".concat(this.event.name," foi removida com sucesso.")})):(this.$store.dispatch("addEventEnrollmentByEventId",{eventId:this.event.id,enrollment:{userId:this.getLoggedUserId,moment:this.$moment(),paid:!1}}),this.assignMedals(),this.historyUpdate("ADD"),this.event.paid?this.$vs.dialog({type:"confirm",color:"primary",title:"Efetuar pagamento",acceptText:"Entendido",cancelText:"",text:"Dirija-se junto ao proponente de evento para efetuar o pagamento da inscrição (".concat(this.event.paymentPrice," €)."),accept:function(){t.$snotify.success("Inscrição efetuada","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})},cancel:function(){t.$snotify.success("Inscrição efetuada","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})}}):this.$vs.dialog({type:"confirm",color:"primary",title:"Inscrição efetuada",acceptText:"Entendido",cancelText:"",text:"A sua inscrição no evento ".concat(this.event.name," foi efetuada com sucesso.")}))},assignMedals:function(){this.$store.dispatch("assignMedals",{userId:this.getLoggedUserId,type:"EVENT"});var t=this.getUserById(this.getLoggedUserId).medals,e=t.splice(t.length,1);console.log(e)},historyUpdate:function(t){"ADD"===t&&this.$store.dispatch("historyUpdate",{type:"ADD",userId:this.getLoggedUserId,eventId:this.event.id}),"REMOVE"===t&&this.$store.dispatch("historyUpdate",{type:"REMOVE",userId:this.getLoggedUserId,eventId:this.event.id})},btnValidatePaymentClicked:function(t){},btnRemoveEnrollmentClicked:function(t){this.$store.dispatch("removeEventEnrollmentByEventIdUserId",{eventId:this.event.id,userId:t}),this.$snotify.success("Inscrição removida","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})}}},Qt=Jt,Xt=(s("ad08"),Object(_["a"])(Qt,Tt,Ut,!1,null,null,null)),Kt=Xt.exports,Zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("TitleAtlas",{staticClass:"mb-0"},[s("router-link",{staticClass:"text-atlas2",attrs:{to:{name:"eventsInfo",params:{id:t.event.id}}}},[s("b",[t._v("["+t._s(t.event.category)+"]")]),t._v("\n\t\t\t"+t._s(t.event.name)+"\n\t\t")]),t._v(" /\n\t\t"),s("b",{staticClass:"text-atlas3",class:"Anúncio"===t.discussion.category?"bg-atlas2 p-1 rounded":""},[t._v("["+t._s(t.discussion.category)+"]")]),t._v("\n\t\t"+t._s(t.discussion.title)+"\n\t\t"),t.btnConditions()?s("button",{staticClass:"btn btn-atlas2",on:{click:function(e){t.modal=!0}}},[s("i",{staticClass:"fa fa-edit",attrs:{"aria-hidden":"true"}})]):t._e(),t.btnConditions()?s("button",{staticClass:"btn btn-danger ml-2",on:{click:function(e){t.btnRemoveClicked()}}},[s("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]):t._e()],1),s("div",{staticClass:"bg-white p-2 border-bottom border-left border-right rounded-bottom mb-3"},[s("div",{staticClass:"row"},[s("div",{staticClass:"ml-3"},[s("router-link",{staticClass:"text-atlas2",attrs:{to:{name:"profile",params:{username:t.getUserById(t.discussion.authorId).username}}}},[s("i",{staticClass:"fa fa-user text-atlas1",attrs:{"aria-hidden":"true"}}),s("small",[t._v(" @"+t._s(t.getUserById(t.discussion.authorId).username))])])],1),s("div",{staticClass:"ml-3"},[s("i",{staticClass:"fa fa-comments text-atlas1",attrs:{"aria-hidden":"true"}}),s("small",[t._v(" "+t._s(t.discussion.answers.length)+" "+t._s(1===t.discussion.answers.length?"resposta":"respostas"))])]),s("div",{staticClass:"ml-3"},[s("i",{staticClass:"fa fa-calendar-alt text-atlas1",attrs:{"aria-hidden":"true"}}),s("small",[t._v(" "+t._s(t.$moment(t.discussion.moment).format("LL")))])]),s("div",{staticClass:"ml-3"},[s("i",{staticClass:"fa fa-clock text-atlas1",attrs:{"aria-hidden":"true"}}),s("small",[t._v(" "+t._s(t.$moment(t.discussion.moment).format("HH:mm")))])])])]),s("EventDiscussionAnswer",{attrs:{answer:{id:0,authorId:t.discussion.authorId,content:t.discussion.content}}}),t._l(t.discussion.answers,function(t){return s("EventDiscussionAnswer",{key:t.id,attrs:{answer:t}})}),s("b-form",{on:{submit:function(e){e.preventDefault(),t.addAnswer()}}},[s("b-form-group",{staticClass:"mt-4",attrs:{label:"Responder"}},[s("b-form-textarea",{attrs:{id:"description",placeholder:-1===t.getLoggedUserId?"Inicie sessão para poder responder.":"Escreva aqui a sua resposta...",rows:3,disabled:-1===t.getLoggedUserId},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}})],1),s("transition",{attrs:{name:"fade",mode:"out-in"}},[t.answer?s("div",[s("input",{staticClass:"btn float-right col-lg-2 col-md-3 col-5",attrs:{type:"reset",value:"Cancelar"},on:{click:function(e){t.answer=""}}}),s("button",{staticClass:"btn btn-atlas1 float-right mr-2 col-lg-2 col-md-3 col-5",attrs:{type:"submit"}},[t._v("Responder")])]):t._e()])],1),s("b-modal",{attrs:{title:"Editar discussão","header-bg-variant":"atlas1","header-text-variant":"white",centered:!0,"hide-footer":!0},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[s("FormDiscussion",{attrs:{eventId:t.event.id,edit:t.discussion}})],1)],2)},te=[],ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.windowWidth>768?s("div",{staticClass:"discussion"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-3 col-md-3 col-12 text-center"},[s("router-link",{attrs:{to:{name:"profile",params:{username:t.user.username}}}},[s("img",{staticClass:"rounded-circle img-fluid col-8",attrs:{src:t.user.picture,alt:""}}),s("br"),s("span",{staticClass:"mt-2 text-atlas2"},[t._v("@"+t._s(t.user.username))])]),s("button",{staticClass:"btn btn-atlas1 col-12",attrs:{id:"profile-name"}},[t._v(t._s(t.getProfileName()))])],1),s("div",{staticClass:"col-xl-9 col-md-9 col-12"},[s("div",{staticClass:"bg-white border rounded pl-3 pr-1 py-2",staticStyle:{height:"100%"}},[0!==t.answer.id?[s("small",[s("i",{staticClass:"fa fa-calendar-alt text-atlas1",attrs:{"aria-hidden":"true"}}),t._v("\n\t\t\t\t\t\t\t"+t._s(t.$moment(t.answer.moment).format("LL"))+"\n\t\t\t\t\t\t\t"),s("i",{staticClass:"fa fa-clock text-atlas1 ml-2",attrs:{"aria-hidden":"true"}}),t._v("\n\t\t\t\t\t\t\t"+t._s(t.$moment(t.answer.moment).format("HH:mm"))+"\n\t\t\t\t\t\t\t"),t.btnRemoveConditions()?s("button",{staticClass:"btn btn-danger float-right",on:{click:function(e){t.btnRemoveClicked()}}},[s("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]):t._e()]),s("hr",{staticClass:"my-1"})]:t._e(),s("div",{staticClass:"row px-3"},[t._v(t._s(t.answer.content))])],2)])])]):s("div",{staticClass:"bg-white border rounded discussion"},[0!==t.answer.id?[s("div",{staticClass:"col-12 mt-2"},[s("small",[s("router-link",{attrs:{to:{name:"profile",params:{username:t.user.username}}}},[s("img",{staticClass:"rounded-circle img-fluid",staticStyle:{width:"35px",height:"35px"},attrs:{src:t.user.picture,alt:""}})]),t._v(" \n\t\t\t\t\t"),s("router-link",{staticClass:"text-atlas2",attrs:{to:{name:"profile",params:{username:t.user.username}}}},[t._v("@"+t._s(t.user.username))]),t._v("/\n\t\t\t\t\t"),s("i",{staticClass:"fa fa-calendar-alt text-atlas1",attrs:{"aria-hidden":"true"}}),t._v("\n\t\t\t\t\t"+t._s(t.$moment(t.answer.moment).format("LL"))+"\n\t\t\t\t\t/\n\t\t\t\t\t"),s("i",{staticClass:"fa fa-clock text-atlas1",attrs:{"aria-hidden":"true"}}),t._v("\n\t\t\t\t\t"+t._s(t.$moment(t.answer.moment).format("HH:mm"))+"\n\t\t\t\t\t"),t.btnRemoveConditions()?s("button",{staticClass:"btn btn-danger float-right",on:{click:function(e){t.btnRemoveClicked()}}},[s("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]):t._e()],1)]),s("hr",{staticClass:"my-1"})]:t._e(),s("div",{staticClass:"col-12 mt-2"},[t._v(t._s(t.answer.content))])],2),s("hr")])},se=[],ae={props:["answer"],created:function(){window.addEventListener("resize",this.handleResize),this.handleResize()},data:function(){return{windowWidth:0}},methods:{handleResize:function(){this.windowWidth=window.innerWidth},getProfileName:function(){switch(this.user.profileId){case 1:return"Aluno";case 2:return"Proponente de evento";case 3:return"Administrador"}},btnRemoveConditions:function(){return-1!==this.getLoggedUserId&&0!==this.answer.id&&(this.getLoggedUserId===this.answer.authorId||3===this.getUserById(this.getLoggedUserId).profileId)},btnRemoveClicked:function(){var t=this;this.$vs.dialog({type:"confirm",color:"danger",title:"Apagar resposta?",acceptText:"Apagar",cancelText:"Cancelar",text:"Esta reposta será apagada.",accept:function(){t.$store.dispatch("removeEventDiscussionAnswerByEventIdDiscussionIdAnswerId",{eventId:parseInt(t.$route.params.id),discussionId:parseInt(t.$route.params.discussionId),answerId:t.answer.id}),t.$snotify.success("Resposta apagada","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})}})}},computed:Object(r["a"])({},Object(o["c"])(["getUserById","getLoggedUserId"]),{user:function(){return this.getUserById(this.answer.authorId)}})},ie=ae,ne=Object(_["a"])(ie,ee,se,!1,null,null,null),re=ne.exports,oe={components:{TitleAtlas:K,EventDiscussionAnswer:re,FormDiscussion:Vt},created:function(){var t=this;this.event=this.getEventById(parseInt(this.$route.params.id)),this.discussion=this.getEventDiscussionByEventIdDiscussionId(parseInt(this.$route.params.id),parseInt(this.$route.params.discussionId)),this.author=this.getUserById(this.discussion.authorId),this.$store.subscribe(function(e){"EDIT_EVENT_DISCUSSION_BY_EVENT_ID_DISCUSSION_ID"===e.type&&(t.modal=!1)})},data:function(){return{event:{},discussion:{},author:{},answer:"",modal:!1,totalPages:1,currentPage:1,answersPerPage:10}},computed:Object(r["a"])({},Object(o["c"])(["getEventById","getEventDiscussionByEventIdDiscussionId","getUserById","getLoggedUserId","getLastAnswerIdByEventIdDiscussionId"])),methods:{addAnswer:function(){this.$store.dispatch("addDiscussionAnswerByEventIdDiscussionId",{eventId:this.event.id,discussionId:this.discussion.id,answer:{id:this.getLastAnswerIdByEventIdDiscussionId(this.event.id,this.discussion.id)+1,authorId:this.getLoggedUserId,content:this.answer,moment:this.$moment()}}),this.answer="",this.$snotify.success("Resposta adicionada","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})},btnConditions:function(){return-1!==this.getLoggedUserId&&(3===this.getUserById(this.getLoggedUserId).profileId||this.getLoggedUserId===this.author.id||this.getLoggedUserId===this.event.authorId)},btnRemoveClicked:function(){var t=this;this.$vs.dialog({type:"confirm",color:"danger",title:"Remover discussão?",acceptText:"Remover",cancelText:"Cancelar",text:"Esta discussão será removida para sempre.",accept:function(){t.$store.dispatch("removeDiscussionByEventIdDiscussionId",{eventId:t.event.id,discussionId:t.discussion.id}),t.$snotify.success("Discussão removida","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0}),t.$router.replace({name:"eventsInfo",params:{id:t.event.id}})}})}}},ce=oe,le=(s("7cb4"),Object(_["a"])(ce,Zt,te,!1,null,null,null)),de=le.exports,ue=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("Panel",{staticClass:"col-md-8 col-sm-9 col-10 mr-auto ml-auto",attrs:{title:"Iniciar sessão"}},[s("b-form",{on:{submit:function(e){e.preventDefault(),t.verifyCredentials()}}},[s("b-form-group",{staticClass:"mt-4",attrs:{label:"Utilizador","label-for":"username","invalid-feedback":t.usernameInvalidFeedback,state:t.usernameState}},[s("b-form-input",{attrs:{id:"username",state:t.usernameState,type:"text",maxlength:"15"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),s("b-form-group",{staticClass:"mt-4",attrs:{label:"Palavra-passe","label-for":"password","invalid-feedback":t.passwordInvalidFeedback,state:t.passwordState}},[s("b-form-input",{attrs:{id:"password",state:t.passwordState,type:"password",maxlength:"15"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),s("button",{staticClass:"btn btn-atlas1 col-12 mt-2",attrs:{type:"submit"}},[t._v("Iniciar sessão")])],1),s("div",{staticClass:"mt-2"},[s("small",[t._v("Sem conta? Registe-se\n\t\t\t\t"),s("router-link",{staticClass:"text-atlas2",attrs:{to:{name:"signup"}}},[t._v("aqui")]),t._v(".\n\t\t\t")],1)])],1),s("vue-snotify")],1)},me=[],he={name:"LoginView",components:{Panel:Ct},data:function(){return{username:"",password:"",attemptSubmit:!1}},methods:{verifyCredentials:function(){this.attemptSubmit=!0;var t=this.getUserByUsername(this.username);t&&t.password===this.password?(this.$store.dispatch("userLoggedIn",t.id),this.$router.replace({name:"home"})):this.username&&this.password?this.$snotify.error("Dados de autenticação incorretos","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0}):this.$snotify.error("Preencha todos os campos","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})}},computed:Object(r["a"])({},Object(o["c"])(["getUserByUsername"]),{usernameState:function(){return!(!this.username&&this.attemptSubmit)&&null},usernameInvalidFeedback:function(){return!this.username&&this.attemptSubmit?"Introduza o nome de utilizador":null},passwordState:function(){return!(!this.password&&this.attemptSubmit)&&null},passwordInvalidFeedback:function(){return!this.password&&this.attemptSubmit?"Introduza a palavra-passe":null}})},fe=he,pe=Object(_["a"])(fe,ue,me,!1,null,null,null),ge=pe.exports,ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("Panel",{staticClass:"col-md-8 col-sm-9 col-10 mr-auto ml-auto",attrs:{title:"Criar conta"}},[s("FormCreateAccount",{attrs:{backoffice:!1}})],1)],1)},be=[],Ie=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-form",{on:{submit:function(e){e.preventDefault(),t.submitForm()}}},[t.editInterests?t._e():[s("b-form-group",{class:t.editProfile?"":"mt-4",attrs:{label:"Nome próprio","label-for":"name","invalid-feedback":t.nameInvalidFeedback,"valid-feedback":t.nameValidFeedback,state:t.nameState}},[s("b-form-input",{attrs:{id:"name",state:t.nameState,type:"text",maxlength:"50"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),s("b-form-group",{attrs:{label:"Apelido","label-for":"surname","invalid-feedback":t.surnameInvalidFeedback,"valid-feedback":t.surnameValidFeedback,state:t.surnameState}},[s("b-form-input",{attrs:{id:"surname",state:t.surnameState,type:"text",maxlength:"50"},model:{value:t.surname,callback:function(e){t.surname=e},expression:"surname"}})],1),s("b-form-group",{staticClass:"mt-4",attrs:{label:"Utilizador","label-for":"username","invalid-feedback":t.usernameInvalidFeedback,"valid-feedback":t.usernameValidFeedback,state:t.usernameState}},[s("b-form-input",{attrs:{id:"username",state:t.usernameState,type:"text",maxlength:"15"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),s("b-form-group",{staticClass:"mt-4",attrs:{label:"Palavra-passe","label-for":"password","invalid-feedback":t.passwordInvalidFeedback,state:t.passwordState}},[s("b-form-input",{attrs:{id:"password",state:t.passwordState,type:"password",maxlength:"15"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t.backoffice?t._e():s("b-form-group",{staticClass:"mt-4",attrs:{label:"Confirmar palavra-passe","label-for":"confirmPassword","invalid-feedback":t.confirmPasswordInvalidFeedback,state:t.confirmPasswordState}},[s("b-form-input",{attrs:{id:"confirmPassword",state:t.confirmPasswordState,type:"password",maxlength:"15"},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1),s("b-form-group",{staticClass:"mt-4",attrs:{label:"Email","label-for":"email","invalid-feedback":t.emailInvalidFeedback,state:t.emailState}},[s("b-form-input",{attrs:{id:"email",state:t.emailState,type:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),s("b-form-group",{staticClass:"mt-4",attrs:{"label-for":"picture",state:t.pictureState}},[s("template",{slot:"label"},[s("span",[t._v("URL foto -")]),s("span",{staticStyle:{"font-style":"italic",color:"rgb(80, 80, 80)"}},[t._v("opcional")])]),s("b-form-input",{attrs:{id:"picture",state:t.pictureState,type:"url"},model:{value:t.picture,callback:function(e){t.picture=e},expression:"picture"}})],2),s("b-form-group",{staticClass:"mt-4",attrs:{label:"Género"}},[s("b-form-radio-group",{attrs:{buttons:"","button-variant":"outline-atlas2",options:t.genders,name:"genders"},model:{value:t.selectedGender,callback:function(e){t.selectedGender=e},expression:"selectedGender"}})],1),t.backoffice||t.editProfile&&-1!==t.getLoggedUserId?[3===t.getUserById(t.getLoggedUserId).profileId?s("b-form-group",{staticClass:"mt-4",attrs:{label:"Tipo de utilizador"}},[s("b-form-radio-group",{attrs:{buttons:"",stacked:t.windowWidth<595,"button-variant":"outline-atlas2",options:t.userTypes,name:"userTypes"},model:{value:t.selectedUserType,callback:function(e){t.selectedUserType=e},expression:"selectedUserType"}})],1):t._e()]:t._e()],t.editProfile?t._e():[t.editProfile||t.editInterests?t._e():[s("hr"),s("h5",[t._v("\n\t\t\t\t\tInteresses -\n\t\t\t\t\t"),s("span",{staticStyle:{"font-style":"italic",color:"rgb(80, 80, 80)"}},[t._v("opcional")])])],s("b-form-group",{attrs:{label:"Tags","label-for":"filterTag"}},[s("b-form-input",{attrs:{id:"filterTag",type:"text",maxlength:"50",placeholder:"Filtrar tags..."},model:{value:t.filterTags,callback:function(e){t.filterTags=e},expression:"filterTags"}}),s("b-form-checkbox-group",{staticClass:"mt-2 px-1",staticStyle:{"overflow-y":"scroll","max-height":"200px"},attrs:{name:"tags",options:t.getFilteredTags,stacked:!0},model:{value:t.selectedTags,callback:function(e){t.selectedTags=e},expression:"selectedTags"}})],1),s("b-form-group",{staticClass:"mt-4",attrs:{label:"Cursos"}},[s("b-form-checkbox-group",{staticClass:"px-1",attrs:{name:"courses",options:t.courses,stacked:!0},model:{value:t.selectedCourses,callback:function(e){t.selectedCourses=e},expression:"selectedCourses"}})],1)],s("button",{staticClass:"btn btn-atlas1 col-12 mt-2",attrs:{type:"submit"}},[t._v(t._s(t.editInterests?"Editar interesses":t.editProfile?"Editar perfil":t.backoffice&&!t.editProfile?"Adicionar utilizador":"Criar conta"))])],2),s("vue-snotify")],1)},_e=[],Ee={name:"FormCreateAccount",props:["backoffice","editProfile","editInterests"],watch:{editProfile:function(t,e){this.name=t.name,this.surname=t.surname,this.username=t.username,this.password=t.password,this.confirmPassword=t.password,this.email=t.email,this.picture=t.picture,this.selectedGender=t.gender,this.selectedUserType=t.profileId},editInterests:function(t,e){this.filterTags="",this.selectedTags=t.interests.tags,this.selectedCourses=t.interests.courses}},data:function(){return{name:"",username:"",surname:"",password:"",confirmPassword:"",email:"",picture:"",pictureLoaded:!1,genders:[{text:"Masculino",value:1},{text:"Feminino",value:2}],selectedGender:1,userTypes:[{text:"Aluno",value:1},{text:"Proponente de evento",value:2},{text:"Administrador",value:3}],selectedUserType:1,filterTags:"",selectedTags:[],selectedCourses:[],courses:[],attemptSubmit:!1,windowWidth:0}},created:function(){var t=this;this.backoffice&&(window.addEventListener("resize",this.handleResize),this.handleResize()),this.getCourses.forEach(function(e){t.courses.push({text:e.name,value:e.id})}),this.editProfile&&(this.name=this.editProfile.name,this.username=this.editProfile.username,this.password=this.editProfile.password,this.confirmPassword=this.editProfile.password,this.email=this.editProfile.email,this.picture=this.editProfile.picture,this.selectedGender=this.editProfile.gender,this.selectedUserType=this.editProfile.profileId),this.editInterests&&(this.filterTags="",this.selectedTags=this.editInterests.interests.tags,this.selectedCourses=this.editInterests.interests.courses)},methods:{submitForm:function(){this.attemptSubmit=!0,this.backoffice||this.editProfile||this.editInterests?this.editProfile||this.editInterests?this.editInterests?this.methodEditInterests():this.editAccount():this.createAccount():this.signUp()},signUp:function(){this.nameState&&this.usernameState&&this.passwordState&&this.confirmPasswordState&&this.emailState?(this.$store.dispatch("signUp",{id:this.getLastUserId+1,profileId:1,username:this.username,password:this.password,email:this.email,name:this.name,picture:this.picture?this.picture:1===this.selectedGender?"https://i.imgur.com/uUbH9go.png":"https://i.imgur.com/moL2juW.png",gender:this.selectedGender,accountCreation:{date:this.$moment().format("YYYY-MM-DD"),hour:this.$moment().format("HH:mm")},interests:{tags:this.selectedTags,courses:this.selectedCourses}}),this.$router.push({name:"login"})):this.notifyError()},createAccount:function(){this.nameState&&this.usernameState&&this.passwordState&&this.emailState?(this.$store.dispatch("createAccount",{id:this.getLastUserId+1,profileId:this.selectedUserType,username:this.username,password:this.password,email:this.email,name:this.name,picture:this.picture?this.picture:1===this.selectedGender?"https://i.imgur.com/uUbH9go.png":"https://i.imgur.com/moL2juW.png",gender:this.selectedGender,accountCreation:{date:this.$moment().format("YYYY-MM-DD"),hour:this.$moment().format("HH:mm")},interests:{tags:this.selectedTags,courses:this.selectedCourses}}),this.$snotify.success("Utilizador adicionado","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0}),this.clearForm()):this.notifyError()},editAccount:function(){this.nameState&&this.usernameState&&this.passwordState&&this.confirmPasswordState&&this.emailState?(this.$router.replace({name:"profile",params:{username:this.username}}),this.$store.dispatch("editUserById",{id:this.editProfile.id,profileId:this.selectedUserType,username:this.username,password:this.password,email:this.email,name:this.name,picture:this.picture?this.picture:1===this.selectedGender?"https://i.imgur.com/uUbH9go.png":"https://i.imgur.com/moL2juW.png",gender:this.selectedGender}),this.$snotify.success("Perfil editado","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})):this.notifyError()},methodEditInterests:function(){this.$store.dispatch("editUserInterestsById",{id:this.editInterests.id,interests:{tags:this.selectedTags,courses:this.selectedCourses}}),this.$snotify.success("Interesses editados","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0}),this.filterTags=""},notifyError:function(){this.$snotify.error("Preencha todos os campos corretamente","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})},clearForm:function(){this.attemptSubmit=!1,this.name="",this.username="",this.password="",this.confirmPassword="",this.email="",this.picture="",this.selectedGender=1,this.selectedUserType=1,this.attemptSubmit=!1,this.filterTags="",this.selectedTags=[],this.selectedCourses=[]},handleResize:function(){this.windowWidth=window.innerWidth}},computed:Object(r["a"])({},Object(o["c"])(["getApiUrl","getUserByUsername","getUserByEmail","getLastUserId","getTags","getCourses","getLoggedUserId","getUserById"]),{nameState:function(){return this.name||this.attemptSubmit?!(!this.name&&this.attemptSubmit):null},nameInvalidFeedback:function(){return!this.name&&this.attemptSubmit?"Introduza o nome":null},nameValidFeedback:function(){return 50===this.name.length?"Máximo 50 caracteres":null},surnameState:function(){return this.surname||this.attemptSubmit?!(!this.surname&&this.attemptSubmit):null},surnameInvalidFeedback:function(){return!this.surname&&this.attemptSubmit?"Introduza o nome":null},surnameValidFeedback:function(){return 50===this.surname.length?"Máximo 50 caracteres":null},usernameState:function(){return this.editProfile?this.username||this.attemptSubmit?!(!this.username&&this.attemptSubmit)&&(this.username===this.username.replace(/[^a-z0-9]/gi,"")&&(this.getUserByUsername(this.username)===this.getUserById(this.editProfile.id)||!this.getUserByUsername(this.username))):null:this.username||this.attemptSubmit?!(!this.username&&this.attemptSubmit)&&(this.username===this.username.replace(/[^a-z0-9]/gi,"")&&!this.getUserByUsername(this.username)):null},usernameInvalidFeedback:function(){return this.username!==this.username.replace(/[^a-z0-9]/gi,"")?"Introduza apenas letras e/ou números":this.getUserByUsername(this.username)?"Nome de utilizador em uso":"Introduza o nome de utilizador"},usernameValidFeedback:function(){return 15===this.username.length?"Máximo 15 caracteres":null},passwordState:function(){return this.password||this.attemptSubmit?!(!this.password&&this.attemptSubmit):null},passwordInvalidFeedback:function(){return this.passwordState?null:"Introduza a palavra-passe"},confirmPasswordState:function(){return(this.confirmPassword||this.attemptSubmit)&&(this.confirmPassword||!this.attemptSubmit||this.password)?this.confirmPassword===this.password:null},confirmPasswordInvalidFeedback:function(){return!this.confirmPassword&&this.attemptSubmit&&this.password?"As passwords devem ser iguais":this.confirmPassword!==this.password?"As passwords devem ser iguais":null},emailState:function(){return this.editProfile?this.email||this.attemptSubmit?!(!this.email&&this.attemptSubmit)&&(this.getUserByEmail(this.email)===this.getUserById(this.editProfile.id)||!this.getUserByEmail(this.email)):null:this.email||this.attemptSubmit?!(!this.email&&this.attemptSubmit)&&!this.getUserByEmail(this.email):null},emailInvalidFeedback:function(){return!this.email&&this.attemptSubmit?"Introduza o email":this.getUserByEmail(this.email)?"Email em uso":null},pictureState:function(){return!!this.picture||null},getFilteredTags:function(){var t=this,e=[];return this.getTags.forEach(function(t){e.push({text:t.name,value:t.id})}),e.sort(function(t,e){return t.name>e.name?1:t.name<e.name?-1:0}),this.filterTags?e.filter(function(e){return e.text.toLowerCase().includes(t.filterTags.toLowerCase())}):e}})},ye=Ee,Se=Object(_["a"])(ye,Ie,_e,!1,null,null,null),Ce=Se.exports,Be={name:"SignUpView",components:{Panel:Ct,FormCreateAccount:Ce}},we=Be,ke=Object(_["a"])(we,ve,be,!1,null,null,null),xe=ke.exports,Te=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",[s("TitleAtlas",[t._v("\n\t\t\tPerfil - "+t._s(t.user.name)+"\n\t\t\t"),t.btnConditions()?s("button",{staticClass:"btn btn-atlas2",on:{click:function(e){t.modalProfile=!0}}},[s("i",{staticClass:"fa fa-cog",attrs:{"aria-hidden":"true"}})]):t._e(),-1!==t.getLoggedUserId?[3===t.getUserById(t.getLoggedUserId).profileId&&t.user.id!==t.getLoggedUserId?s("button",{staticClass:"btn btn-danger ml-2",on:{click:function(e){t.btnRemoveClicked()}}},[s("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]):t._e()]:t._e()],2),s("div",{staticClass:"row"},[s("div",{staticClass:"ml-auto mr-auto mb-2 col-lg-3 col-md-4 col-6 text-center"},[s("img",{staticClass:"img-fluid img-thumbnail rounded-circle",attrs:{src:t.user.picture}}),s("button",{staticClass:"btn btn-atlas1 mt-2 col-12",attrs:{id:"profile-name"}},[t._v(t._s(t.getProfileName()))])]),s("div",{staticClass:"col-lg-9 col-md-8 col-12"},[s("vs-list",[s("vs-list-item",{attrs:{icon:"person",title:"Nome",subtitle:t.user.name}}),s("vs-list-item",{attrs:{icon:"email",title:"Email",subtitle:t.user.email}}),s("vs-list-item",{attrs:{icon:"public",title:"Nome de utilizador",subtitle:"@"+t.user.username}}),s("vs-list-item",{attrs:{icon:"date_range",title:"Registo",subtitle:t._f("moment")(t.$moment(t.user.accountCreation.date+"T"+t.user.accountCreation.hour),"from","now")}})],1)],1)])],1),3!==t.user.profileId?s("div",{staticClass:"mt-5"},[s("TitleAtlas",[t._v("\n\t\t\tInteresses\n\t\t\t"),t.btnConditions()?s("button",{staticClass:"btn btn-atlas2",on:{click:function(e){t.modalInterests=!0}}},[s("i",{staticClass:"fa fa-edit",attrs:{"aria-hidden":"true"}})]):t._e()]),t.interestedTags().length||t.interestedCourses().length?s("vs-list",[t.interestedTags().length?s("vs-list-item",{attrs:{icon:"local_offer",title:t.interestedTags().length>1?"Tags":"Tag",subtitle:t.interestedTags().join(" ")}}):t._e(),t.interestedCourses().length?s("vs-list-item",{attrs:{icon:"school",title:t.interestedCourses().length>1?"Cursos":"Curso",subtitle:t.interestedCourses().join(", ")}}):t._e()],1):s("p",[t._v("Nenhum interesse selecionado.")])],1):t._e(),1!==t.user.profileId?s("div",{staticClass:"mt-5"},[s("TitleAtlas",[t._v("Eventos criados - "+t._s(t.getEventsByAuthorId(t.user.id).length))]),t.windowWidth>=768?t._l(t.getEventsByAuthorId(t.user.id),function(t){return s("EventListItem",{key:"event_"+t.id,staticClass:"mb-1",attrs:{event:t}})}):t._l(t.getEventsByAuthorId(t.user.id),function(t){return s("EventCard",{key:"event_"+t.id,staticClass:"mb-1",attrs:{event:t}})})],2):t._e(),3!==t.user.profileId&&t.getUserEnrollmentsByUserId(t.user.id).length?s("div",{staticClass:"mt-5"},[s("TitleAtlas",[t._v("Eventos inscrito - "+t._s(t.getUserEnrollmentsByUserId(t.user.id).length))]),t.windowWidth>=768?t._l(t.getEventsBySelectedPage,function(t){return s("EventListItem",{key:t.id,staticClass:"mb-1",attrs:{event:t}})}):t._l(t.getEventsBySelectedPage,function(t){return s("EventCard",{key:t.id,staticClass:"mb-1",attrs:{event:t}})}),t.getUserEnrollmentsByUserId(t.user.id).length>t.eventsPerPage?s("div",{staticClass:"mt-3"},[s("vs-pagination",{attrs:{total:t.totalPages},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1):t._e()],2):t._e(),3!==t.user.profileId?s("b-modal",{attrs:{title:"Editar interesses","header-bg-variant":"atlas1","header-text-variant":"white",centered:!0,"hide-footer":!0},model:{value:t.modalInterests,callback:function(e){t.modalInterests=e},expression:"modalInterests"}},[s("FormCreateAccount",{attrs:{editInterests:t.user}})],1):t._e(),s("b-modal",{attrs:{title:"Editar perfil","header-bg-variant":"atlas1","header-text-variant":"white",centered:!0,"hide-footer":!0},model:{value:t.modalProfile,callback:function(e){t.modalProfile=e},expression:"modalProfile"}},[s("FormCreateAccount",{attrs:{editProfile:t.user}})],1)],1)},Ue=[],Pe={components:{TitleAtlas:K,FormCreateAccount:Ce,EventListItem:mt,EventCard:rt},created:function(){var t=this;this.$store.subscribe(function(e){switch(e.type){case"EDIT_USER_BY_ID":t.modalProfile=!1;break;case"EDIT_USER_INTERESTS_BY_ID":t.modalInterests=!1;break}}),window.addEventListener("resize",this.handleResize),this.handleResize()},data:function(){return{modalProfile:!1,modalInterests:!1,windowWidth:0,eventsPerPage:5,currentPage:1}},methods:{handleResize:function(){this.windowWidth=window.innerWidth},getProfileName:function(){switch(this.user.profileId){case 1:return"Aluno";case 2:return"Proponente de evento";case 3:return"Administrador"}},interestedTags:function(){var t=this,e=[];return this.user.interests.tags.forEach(function(s){return e.push("#"+t.getTagById(s).name)}),e},interestedCourses:function(){var t=this,e=[];return this.user.interests.courses.forEach(function(s){return e.push(t.getCourseById(s).name)}),e},btnConditions:function(){return-1!==this.getLoggedUserId&&(3===this.getUserById(this.getLoggedUserId).profileId||this.getLoggedUserId===this.user.id)},btnRemoveClicked:function(){var t=this,e=this.getEventsByAuthorId(this.user.id);e.length?this.$vs.dialog({type:"confirm",color:"danger",title:"Impossível remover utilizador",acceptText:"Entendido",cancelText:"",text:"O utilizador ".concat(this.user.username," não pode ser removido, uma vez que tem ").concat(e.length," eventos criados.")}):this.$vs.dialog({type:"confirm",color:"danger",title:"Remover utilizador?",acceptText:"Remover",cancelText:"Cancelar",text:"O utilizador ".concat(this.user.username," será removido para sempre."),accept:function(){t.$store.dispatch("removeUserById",t.user.id),t.$snotify.success("Utilizador removido","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0}),t.$router.push({name:"home"})}})}},computed:Object(r["a"])({},Object(o["c"])(["getUserByUsername","getTagById","getCourseById","getLoggedUserId","getUserById","getEventsByAuthorId","getUserEnrollmentsByUserId"]),{user:function(){return this.getUserByUsername(this.$route.params.username)},totalPages:function(){return this.getUserEnrollmentsByUserId(this.user.id).length<=this.eventsPerPage?1:Math.floor(this.getUserEnrollmentsByUserId(this.user.id).length/this.eventsPerPage)+1},getEventsBySelectedPage:function(){return this.getUserEnrollmentsByUserId(this.user.id).length>this.eventsPerPage?this.getUserEnrollmentsByUserId(this.user.id).slice((this.currentPage-1)*this.eventsPerPage,this.eventsPerPage*this.currentPage):this.getUserEnrollmentsByUserId(this.user.id)}})},De=Pe,Oe=(s("2a37"),Object(_["a"])(De,Te,Ue,!1,null,null,null)),je=Oe.exports,Ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row container col-12",attrs:{id:"backofficeParent"}},[s("BackofficeSidebar",{staticClass:"col-xl-3 col-md-4 col-2"}),s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("router-view",{staticClass:"col-xl-9 col-md-8 col-10 view"})],1)],1)},Le=[],Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{refs:"backoffice"}},[a("b-navbar",{attrs:{toggleable:"sm",type:"dark",variant:"atlas1",fixed:"top"}},[a("div",{staticClass:"container"},[a("router-link",{staticClass:"navbar-brand ml-auto mr-auto",attrs:{to:{name:"home"}}},[a("img",{attrs:{src:s("4ffd"),alt:"ATLAS",height:"50"}})])],1)]),a("vs-sidebar",{directives:[{name:"show",rawName:"v-show",value:t.sidebarActive,expression:"sidebarActive"}],staticClass:"sidebar",attrs:{parent:t.$refs.backoffice,"default-index":t.getIndex,color:"primary",staticPosition:!0,"hidden-background":!0,reduce:t.sidebarReduced}},[a("vs-sidebar-item",{attrs:{index:"1",icon:"question_answer",to:{name:"backoffice"}}},[t._v("Início")]),3===t.getUserById(t.getLoggedUserId).profileId?a("vs-sidebar-item",{attrs:{index:"2",icon:"person",to:{name:"backofficeUsers"}}},[t._v("Utilizadores")]):t._e(),3===t.getUserById(t.getLoggedUserId).profileId?a("vs-sidebar-item",{attrs:{index:"3",icon:"local_offer",to:{name:"backofficeTags"}}},[t._v("Tags")]):t._e(),3===t.getUserById(t.getLoggedUserId).profileId?a("vs-sidebar-item",{attrs:{index:"4",icon:"school",to:{name:"backofficeCourses"}}},[t._v("Cursos")]):t._e(),a("vs-sidebar-item",{attrs:{index:"5",icon:"event",to:{name:"backofficeEvents"}}},[t._v(t._s(2===t.getUserById(t.getLoggedUserId).profileId?"Meus eventos":"Eventos"))])],1)],1)},$e=[],Re={name:"BackofficeSidebar",data:function(){return{sidebarActive:!0,active:!1,windowWidth:0,windowHeight:0}},created:function(){window.addEventListener("resize",this.handleResize),this.handleResize()},methods:Object(r["a"])({handleResize:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight},toggleSidebar:function(){this.sidebarActive=!this.sidebarActive,this.toggleBackofficeSidebar(this.sidebarActive)}},Object(o["b"])(["toggleBackofficeSidebar"])),computed:Object(r["a"])({},Object(o["c"])(["getUserById","getLoggedUserId"]),{sidebarReduced:function(){return this.windowWidth<=768},getIndex:function(){switch(this.$route.name){case"backoffice":return 1;case"backofficeUsers":return 2;case"backofficeTags":return 3;case"backofficeCourses":return 4;case"backofficeEvents":return 5;default:return null}}})},Fe=Re,ze=(s("9d14"),Object(_["a"])(Fe,Ne,$e,!1,null,null,null)),Ve=ze.exports,qe={name:"BackofficeView",components:{BackofficeSidebar:Ve}},Me=qe,We=(s("cb31"),Object(_["a"])(Me,Ae,Le,!1,null,null,null)),He=We.exports,Ge=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h4",[t._v("Bem vindo ao Painel de Controlo do ATLAS!")]),s("p",[t._v("Permissões:")]),3===t.getUserById(t.getLoggedUserId).profileId?s("ul",[s("li",[t._v("Adicionar utilizadores. Ver todos os utilizadores.")]),s("li",[t._v("Adicionar/remover tags. Ver todas as tags.")]),s("li",[t._v("Adicionar/remover cursos. Ver todos os cursos.")]),s("li",[t._v("Adicionar evento. Ver todos os eventos.")])]):s("ul",[s("li",[t._v("Adicionar evento. Ver todos os seus eventos.")])])])},Ye=[],Je={name:"BackofficeHomeView",computed:Object(r["a"])({},Object(o["c"])(["getUserById","getLoggedUserId"]))},Qe=Je,Xe=Object(_["a"])(Qe,Ge,Ye,!1,null,null,null),Ke=Xe.exports,Ze=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pb-5"},[s("Panel",{attrs:{title:"Adicionar utilizador"}},[s("FormCreateAccount",{attrs:{backoffice:!0}})],1),s("Panel",{staticClass:"mt-5",attrs:{title:"Utilizadores - "+t.getUsers.length}},[s("DataTable",{attrs:{name:"users",items:t.getUsers,fields:t.userFields}})],1)],1)},ts=[],es=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[t.items.length>5?[s("div",{staticClass:"col-md-6 my-1"},[s("b-form-group",{staticClass:"mb-0",attrs:{horizontal:"",label:"Filtrar"}},[s("b-input-group",[s("b-form-input",{attrs:{placeholder:"Escreva para filtrar..."},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)],1)],1),s("div",{staticClass:"col-md-6 my-1 mb-3"},[s("b-form-group",{staticClass:"mb-0",attrs:{horizontal:"",label:"Por página"}},[s("b-form-select",{attrs:{options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1)]:[s("div",{staticClass:"col-12 my-1"},[s("b-form-group",{staticClass:"mb-0",attrs:{horizontal:"",label:"Filtrar"}},[s("b-input-group",[s("b-form-input",{attrs:{placeholder:"Escreva para filtrar..."},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)],1)],1)]],2),s("b-table",{attrs:{items:t.items,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection,outlined:"",hover:"",responsive:"","empty-filtered-text":"Não há resultados para a sua pesquisa"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},filtered:t.onFiltered,"row-clicked":function(e){t.rowClicked(e)}},scopedSlots:t._u([{key:"userType",fn:function(e){return"users"===t.name?[t._v(t._s(t.getNameUserType(e.item.profileId)))]:void 0}},{key:"author",fn:function(e){return"events"===t.name&&3===t.getUserById(t.getLoggedUserId).profileId?[t._v(t._s(t.getUserById(e.item.authorId).username+" ("+e.item.authorId+")"))]:void 0}},{key:"tags",fn:function(e){return"events"===t.name&&3===t.getUserById(t.getLoggedUserId).profileId?[t._l(e.item.tags,function(e){return[t._v(t._s("#"+t.getTagNameById(e)))]})]:void 0}},{key:"actions",fn:function(e){return"courses"===t.name||"tags"===t.name?[s("button",{staticClass:"btn btn-danger float-right",on:{click:function(s){s.preventDefault(),t.btnRemoveClicked(parseInt(e.item.id))}}},[s("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),s("button",{staticClass:"btn btn-warning text-white mx-2 float-right",on:{click:function(s){s.preventDefault(),t.btnEditClicked(parseInt(e.item.id))}}},[s("i",{staticClass:"fa fa-edit",attrs:{"aria-hidden":"true"}})])]:void 0}}])}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.items.length>t.perPage,expression:"items.length > perPage"}],staticClass:"row"},[s("div",{staticClass:"my-1 mr-auto ml-auto"},[s("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)]),s("vs-prompt",{attrs:{"vs-title":"Editar curso","vs-active":t.activePrompt,"vs-buttons-hidden":!0},on:{"update:vsActive":function(e){t.activePrompt=e}}},["courses"===t.name?s("FormCourse",{attrs:{editId:t.editId}}):t._e(),"tags"===t.name?s("FormTag",{attrs:{editId:t.editId}}):t._e()],1)],1)},ss=[],as=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-form",{on:{submit:function(e){e.preventDefault(),t.editId?t.editCourse():t.addCourse()}}},[s("b-form-group",{class:t.editId?"":"mt-4",attrs:{label:"Nome","label-for":"name","invalid-feedback":t.nameInvalidFeedback,"valid-feedback":t.nameValidFeedback,state:t.nameState}},[s("b-form-input",{attrs:{id:"name",state:t.nameState,type:"text",maxlength:"50"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),s("b-form-group",{staticClass:"mt-4",attrs:{label:"Abreviatura","label-for":"abbreviation","invalid-feedback":t.abbreviationInvalidFeedback,"valid-feedback":t.abbreviationValidFeedback,state:t.abbreviationState}},[s("b-form-input",{attrs:{id:"abbreviation",state:t.abbreviationState,type:"text",maxlength:"6"},model:{value:t.abbreviation,callback:function(e){t.abbreviation=e},expression:"abbreviation"}})],1),s("button",{staticClass:"btn btn-atlas1 col-12 mt-2",attrs:{type:"submit"}},[t._v(t._s(t.editId?"Editar curso":"Adicionar curso"))])],1),s("vue-snotify")],1)},is=[],ns={props:["editId"],data:function(){return{name:"",abbreviation:"",attemptSubmit:!1}},created:function(){if(this.editId){var t=this.getCourseById(this.editId);this.name=t.name,this.abbreviation=t.abbreviation}},methods:{addCourse:function(){this.attemptSubmit=!0,this.nameState&&this.abbreviationState?(this.$store.dispatch("addCourse",{id:this.getLastCourseId+1,name:this.name,abbreviation:this.abbreviation}),this.name="",this.abbreviation="",this.attemptSubmit=!1):this.$snotify.error("Preencha todos os campos corretamente","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})},editCourse:function(){this.attemptSubmit=!0,this.nameState&&this.abbreviationState?(this.$store.dispatch("editCourse",{id:this.editId,name:this.name,abbreviation:this.abbreviation}),this.name="",this.abbreviation="",this.attemptSubmit=!1,this.$snotify.success("Curso editado","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})):this.$snotify.error("Preencha todos os campos corretamente","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})}},computed:Object(r["a"])({},Object(o["c"])(["getCourses","getCourseById","getLastCourseId","getCourseByName","getCourseByAbbreviation"]),{nameState:function(){return this.editId?this.name||this.attemptSubmit?!(!this.name&&this.attemptSubmit)&&(this.getCourseByName(this.name)===this.getCourseById(this.editId)||!this.getCourseByName(this.name)):null:this.name||this.attemptSubmit?!(!this.name&&this.attemptSubmit)&&!this.getCourseByName(this.name):null},nameInvalidFeedback:function(){return!this.name&&this.attemptSubmit?"Introduza o nome do curso":this.getCourseByName(this.name)?"Nome de curso em uso":null},nameValidFeedback:function(){return 50===this.name.length?"Máximo 50 caracteres":null},abbreviationState:function(){return this.editId?this.abbreviation||this.attemptSubmit?!(!this.abbreviation&&this.attemptSubmit)&&(this.abbreviation===this.abbreviation.replace(/[^a-z0-9]/gi,"")&&(this.getCourseByAbbreviation(this.abbreviation)===this.getCourseById(this.editId)||!this.getCourseByAbbreviation(this.abbreviation))):null:this.abbreviation||this.attemptSubmit?!(!this.abbreviation&&this.attemptSubmit)&&(this.abbreviation===this.abbreviation.replace(/[^a-z0-9]/gi,"")&&!this.getCourseByAbbreviation(this.abbreviation)):null},abbreviationInvalidFeedback:function(){return this.abbreviation!==this.abbreviation.replace(/[^a-z0-9]/gi,"")?"Introduza apenas letras e/ou números":this.getCourseByAbbreviation(this.abbreviation)?"Abreviação em uso":"Introduza a abreviação"},abbreviationValidFeedback:function(){return 6===this.abbreviation.length?"Máximo 6 caracteres":null}})},rs=ns,os=Object(_["a"])(rs,as,is,!1,null,null,null),cs=os.exports,ls=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-form",{on:{submit:function(e){e.preventDefault(),t.editId?t.editTag():t.addTag()}}},[s("b-form-group",{class:t.editId?"":"mt-4",attrs:{label:"Tag","label-for":"name","invalid-feedback":t.nameInvalidFeedback,"valid-feedback":t.nameValidFeedback,state:t.nameState}},[s("b-form-input",{attrs:{id:"name",state:t.nameState,type:"text",maxlength:"15"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),s("button",{staticClass:"btn btn-atlas1 col-12 mt-2",attrs:{type:"submit"}},[t._v(t._s(t.editId?"Editar tag":"Adicionar tag"))])],1),s("vue-snotify")],1)},ds=[],us={props:["editId"],data:function(){return{name:"",attemptSubmit:!1}},created:function(){this.editId&&(this.name=this.getTagById(this.editId).name)},methods:{addTag:function(){this.attemptSubmit=!0,this.nameState?(this.$store.dispatch("addTag",{id:this.getLastTagId+1,name:this.name}),this.name="",this.attemptSubmit=!1):this.$snotify.error("Preencha todos os campos corretamente","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})},editTag:function(){this.attemptSubmit=!0,this.nameState?(this.$store.dispatch("editTag",{id:this.editId,name:this.name}),this.name="",this.attemptSubmit=!1,this.$snotify.success("Tag editada","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})):this.$snotify.error("Preencha todos os campos corretamente","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})}},computed:Object(r["a"])({},Object(o["c"])(["getTags","getTagById","getLastTagId","getTagByName"]),{nameState:function(){return this.editId?this.name||this.attemptSubmit?!(!this.name&&this.attemptSubmit)&&(this.getTagByName(this.name)===this.getTagById(this.editId)||!this.getTagByName(this.name)):null:this.name||this.attemptSubmit?!!(this.name&&this.name.trim()||!this.attemptSubmit)&&!this.getTagByName(this.name):null},nameInvalidFeedback:function(){return this.name&&this.name.trim()||!this.attemptSubmit?this.getTagByName(this.name)?"Tag em uso":null:"Introduza uma tag"},nameValidFeedback:function(){return 15===this.name.length?"Máximo 15 caracteres":null}})},ms=us,hs=Object(_["a"])(ms,ls,ds,!1,null,null,null),fs=hs.exports,ps={components:{FormCourse:cs,FormTag:fs},props:["name","items","fields"],data:function(){return{currentPage:1,perPage:20,totalRows:this.items.length,pageOptions:[20,35,50],sortBy:null,sortDesc:!1,sortDirection:"asc",filter:null,activePrompt:!1,editId:0}},created:function(){var t=this;this.$store.subscribe(function(e){"EDIT_COURSE"!==e.type&&"EDIT_TAG"!==e.type||(t.activePrompt=!1)})},computed:Object(r["a"])({},Object(o["c"])(["getCourseById","getTagById","getUserById","getLoggedUserId","getTagNameById"]),{sortOptions:function(){return this.fields.filter(function(t){return t.sortable}).map(function(t){return{text:t.label,value:t.key}})}}),methods:Object(r["a"])({},Object(o["b"])(["removeCourseById","removeTagById"]),{getNameUserType:function(t){switch(t){case 1:return"Aluno";case 2:return"Propon. evento.";case 3:return"Administrador"}},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},rowClicked:function(t){switch(console.log(t),this.name){case"users":this.$router.push({name:"profile",params:{username:t.username}});break;case"tags":this.$router.push({name:"events",query:{tags:this.getTagNameById(t.id)}});break;case"courses":this.$router.push({name:"events",query:{curso:this.getCourseById(t.id).name}});break;case"events":this.$router.push({name:"eventsInfo",params:{id:t.id}});break;default:break}},btnEditClicked:function(t){"courses"!==this.name&&"tags"!==this.name||(this.editId=t,this.activePrompt=!0)},btnRemoveClicked:function(t){var e=this;switch(this.name){case"courses":this.$vs.dialog({type:"confirm",color:"danger",title:"Remover curso?",acceptText:"Remover",cancelText:"Cancelar",text:"O curso ".concat(this.getCourseById(t).name," será removido para sempre."),accept:function(){e.removeCourseById(t),e.$snotify.success("Curso removido","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})}});break;case"tags":this.$vs.dialog({type:"confirm",color:"danger",title:"Remover tag?",acceptText:"Remover",cancelText:"Cancelar",text:"A tag ".concat(this.getTagById(t).name," será removida para sempre."),accept:function(){e.removeTagById(t),e.$snotify.success("Tag removida","",{timeout:2e3,showProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})}});break}}})},gs=ps,vs=Object(_["a"])(gs,es,ss,!1,null,null,null),bs=vs.exports,Is={name:"BackofficeUsersView",components:{Panel:Ct,FormCreateAccount:Ce,DataTable:bs},data:function(){return{userFields:[{key:"id",label:"ID",sortable:!0,sortDirection:"desc"},{key:"name",label:"Nome",sortable:!0},{key:"username",label:"Nome de utilizador",sortable:!0},{key:"email",label:"Email",sortable:!0},{key:"userType",label:"Tipo de utilizador"},{key:"actions",label:""}]}},computed:Object(r["a"])({},Object(o["c"])(["getUsers"]))},_s=Is,Es=(s("8a4b"),Object(_["a"])(_s,Ze,ts,!1,null,"efb563a0",null)),ys=Es.exports,Ss=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pb-5"},[s("Panel",{attrs:{title:"Adicionar tag"}},[s("FormTag")],1),s("Panel",{staticClass:"mt-5",attrs:{title:"Tags - "+t.getTags.length}},[s("DataTable",{attrs:{name:"tags",items:t.getTags,fields:t.tagsFields}})],1)],1)},Cs=[],Bs={components:{Panel:Ct,FormTag:fs,DataTable:bs},data:function(){return{tagsFields:[{key:"id",label:"ID",sortable:!0,sortDirection:"desc"},{key:"name",label:"Nome",sortable:!0},{key:"actions",label:""}]}},computed:Object(r["a"])({},Object(o["c"])(["getTags"]))},ws=Bs,ks=Object(_["a"])(ws,Ss,Cs,!1,null,null,null),xs=ks.exports,Ts=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pb-5"},[s("Panel",{attrs:{title:"Adicionar curso"}},[s("FormCourse")],1),s("Panel",{staticClass:"mt-5",attrs:{title:"Cursos - "+t.getCourses.length}},[s("DataTable",{attrs:{name:"courses",items:t.getCourses,fields:t.coursesFields}})],1)],1)},Us=[],Ps={components:{Panel:Ct,FormCourse:cs,DataTable:bs},data:function(){return{coursesFields:[{key:"id",label:"ID",sortable:!0,sortDirection:"desc"},{key:"name",label:"Nome",sortable:!0},{key:"abbreviation",label:"Abreviação",sortable:!0},{key:"actions",label:""}]}},computed:Object(r["a"])({},Object(o["c"])(["getCourses"]))},Ds=Ps,Os=Object(_["a"])(Ds,Ts,Us,!1,null,null,null),js=Os.exports,As=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pb-5"},[s("Panel",{attrs:{title:"Adicionar evento"}},[s("FormEvent")],1),s("Panel",{staticClass:"mt-5",attrs:{title:3===t.getUserById(t.getLoggedUserId).profileId?"Eventos - "+t.getEvents.length:"Meus eventos - "+t.getEventsByAuthorId(t.getLoggedUserId).length}},[s("DataTable",{attrs:{name:"events",items:3===t.getUserById(t.getLoggedUserId).profileId?t.getEvents:t.getEventsByAuthorId(t.getLoggedUserId),fields:t.eventsFields}})],1)],1)},Ls=[],Ns={components:{Panel:Ct,FormEvent:Yt,DataTable:bs},created:function(){3===this.getUserById(this.getLoggedUserId).profileId&&this.eventsFields.splice(2,0,{key:"author",label:"Autor (ID)",sortable:!0})},data:function(){return{eventsFields:[{key:"id",label:"ID",sortable:!0,sortDirection:"desc"},{key:"name",label:"Nome",sortable:!0,sortDirection:"desc"},{key:"category",label:"Categoria",sortable:!0},{key:"tags",label:"Tags",sortable:!0},{key:"dateStart",label:"Data de início",sortable:!0},{key:"dateEnd",label:"Data de fim",sortable:!0},{key:"actions",label:""}]}},computed:Object(r["a"])({},Object(o["c"])(["getUserById","getLoggedUserId","getEvents","getEventsByAuthorId"]))},$s=Ns,Rs=Object(_["a"])($s,As,Ls,!1,null,null,null),Fs=Rs.exports,zs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-5"},[t.getNotifications.length?s("div",[s("TitleAtlas",[t._v("As Minhas Notificações")]),t._l(t.getNotifications,function(e){return s("NotificationCard",{key:e.eventId,staticClass:"mb-1",attrs:{event:t.getEventById(e.eventId)}})})],2):s("div",[s("TitleAtlas",[t._v("As Minhas Notificações")]),[t._v("Não Tem Notificações Novas")]],2)])},Vs=[],qs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex event-list-item"},[s("router-link",{staticClass:"p-0 col-xl-3 col-lg-4 col-6",attrs:{to:{name:"eventsInfo",params:{id:t.event.id}}}},[s("img",{staticClass:"card-img-top",staticStyle:{height:"100%","border-radius":"0"},attrs:{src:t.event.picture.thumbnail}})]),s("div",{staticClass:"bg-atlas2 py-2 col-xl-9 col-lg-8 col-6"},[s("router-link",{staticClass:"router-link",attrs:{to:{name:"eventsInfo",params:{id:t.event.id}}}},[s("h5",{staticClass:"text-white atlas-bold"},[s("b",{staticClass:"text-atlas1"},[t._v("["+t._s(t.event.category)+"]")]),s("span",{staticClass:"atlas-semi-bold ml-1"},[t._v(t._s(t.event.name))])])]),s("div",{staticClass:"text-atlas3 event-card-body"},[s("div",{staticClass:"float-left mb-3"},[t._v(t._s(t.getEventShortDescription(t.event.id)))]),s("div",[s("div",{staticClass:"float-left"},t._l(t.event.tags,function(e){return s("router-link",{key:"event_"+t.event.id+"tag_"+e,staticClass:"text-atlas3",attrs:{to:{name:"events",query:{tags:t.getTagById(e).name}}}},[t._v(t._s("#"+t.getTagById(e).name+" "))])})),s("div",{staticClass:"float-right row"},[s("div",{staticClass:"ml-3"},[s("i",{staticClass:"fa fa-map-marker-alt text-atlas1",attrs:{"aria-hidden":"true"}}),s("router-link",{staticClass:"text-atlas3 ml-1",attrs:{to:{name:"events",query:{sala:t.event.classroom}}}},[t._v(t._s(t.event.classroom))])],1),s("div",{staticClass:"ml-3"},[s("i",{staticClass:"fa fa-calendar-alt text-atlas1",attrs:{"aria-hidden":"true"}}),t._v("\n            "+t._s(t._f("moment")(t.event.dateStart+" "+t.event.hourStart,"from","now"))+"\n          ")]),s("div",{staticClass:"ml-3"},[s("i",{staticClass:"fa fa-microphone-alt text-atlas1",attrs:{"aria-hidden":"true"}}),s("router-link",{staticClass:"text-atlas3",attrs:{to:{name:"profile",params:{username:t.getUserById(t.event.authorId).username}}}},[t._v(" @"+t._s(t.getUserById(t.event.authorId).username))])],1),s("div",{staticClass:"mx-3"},[s("i",{staticClass:"fa fa-users text-atlas1",attrs:{"aria-hidden":"true"}}),t._v("\n            "+t._s(t.event.enrollments.length)+" "+t._s(t.$moment(t.event.dateEnd+" "+t.event.hourEnd).isBefore(t.$moment())?"foram":1===t.event.enrollments.length?"vai":"vão")+"\n          ")])])])])],1)],1)},Ms=[],Ws={props:["event"],created:function(){},data:function(){return{someDate:"2019-01-13"}},computed:Object(r["a"])({},Object(o["c"])(["getUserById","getTagById","getEventShortDescription"]))},Hs=Ws,Gs=(s("8e8f"),Object(_["a"])(Hs,qs,Ms,!1,null,"e034f6bc",null)),Ys=Gs.exports,Js={components:{TitleAtlas:K,NotificationCard:Ys},data:function(){return{}},methods:{handleResize:function(){this.windowWidth=window.innerWidth}},computed:Object(r["a"])({},Object(o["c"])(["getNotificationsByUserId","getEventById","getLoggedUserId"]),{getNotifications:function(){return this.getNotificationsByUserId(this.getLoggedUserId)}}),created:function(){window.addEventListener("resize",this.handleResize),this.handleResize()}},Qs=Js,Xs=Object(_["a"])(Qs,zs,Vs,!1,null,null,null),Ks=Xs.exports,Zs={baseURL:"https://atlas-server-gustavovasconcelos.c9users.io"},ta=v.a.create(Zs);a["default"].use(o["a"]);var ea=s("c1df");s("f260"),a["default"].use(s("2ead"),{moment:ea});var sa=new o["a"].Store({state:{users:[],loggedUserId:-1,courses:[],tags:[],events:[],medals:[],apiUrl:"https://atlas-server-gustavovasconcelos.c9users.io"},getters:{getApiUrl:function(t){return t.apiUrl},getUserById:function(t){return function(e){return t.users.find(function(t){return t.id===e})}},getUserByUsername:function(t){return function(e){return t.users.find(function(t){return t.username.toLowerCase()===e.toLowerCase()})}},getUserByEmail:function(t){return function(e){return t.users.find(function(t){return t.email.toLowerCase()===e.toLowerCase()})}},getLoggedUserId:function(t){return t.loggedUserId},getLastUserId:function(t){var e=0;return t.users.length&&t.users.forEach(function(t){t.id>=e&&(e=t.id)}),e},getUsers:function(t){return t.users},getUserEnrollmentsByUserId:function(t){return function(e){var s=t.events.filter(function(t){return t.enrollments.some(function(t){return t.userId===e})});return s.sort(ia),s}},getCourses:function(t){return t.courses},getLastCourseId:function(t){var e=0;return t.courses.length&&t.courses.forEach(function(t){t.id>=e&&(e=t.id)}),e},getCourseById:function(t){return function(e){return t.courses.find(function(t){return t.id===e})}},getCourseByName:function(t){return function(e){return t.courses.find(function(t){return t.name.toLowerCase()===e.toLowerCase()})}},getCourseByAbbreviation:function(t){return function(e){return t.courses.find(function(t){return t.abbreviation.toLowerCase()===e.toLowerCase()})}},getTags:function(t){return t.tags},getLastTagId:function(t){var e=0;return t.tags.length&&t.tags.forEach(function(t){t.id>=e&&(e=t.id)}),e},getTagById:function(t){return function(e){return t.tags.find(function(t){return t.id===e})}},getTagByName:function(t){return function(e){return t.tags.find(function(t){return t.name.toLowerCase()===e.toLowerCase()})}},getTagNameById:function(t){return function(e){return t.tags.find(function(t){return t.id===e}).name}},getEvents:function(t){return t.events},getEventsByAuthorId:function(t){return function(e){var s=[];return t.events.forEach(function(t){t.authorId===e&&s.push(t)}),s.length&&s.sort(aa),s}},getLastEventId:function(t){var e=0;return t.events.length&&t.events.forEach(function(t){t.id>=e&&(e=t.id)}),e},getEventShortDescription:function(t){return function(e){var s=t.events.find(function(t){return t.id===e}).description;return s.length<=100?s:s.substr(0,s.indexOf(" ",250))+"..."}},getEndedEvents:function(t){var e=t.events.filter(function(t){return ea().diff(t.dateEnd,"days")>0});return e.sort(ia),e},getNextEvents:function(t){var e=t.events.filter(function(t){return ea().diff(t.dateEnd,"days")<=0});return e.sort(aa),e},getTodayEvents:function(t){var e=t.events.filter(function(t){return ea(ea().format("YYYY-MM-DD")).isBetween(t.dateStart,t.dateEnd,null,"[]")});return e.sort(aa),e},getEventById:function(t){return function(e){return t.events.find(function(t){return t.id===e})}},getEventsByIdsTagsIdsCourses:function(t){return function(e,s){return t.events.filter(function(t){var a=!0;return a=(t.tags.some(function(t){return e.some(function(e){return e===t})})||t.coursesIds.some(function(t){return s.some(function(e){return e===t})}))&&a,a})}},getNextEventsByIdsTagsIdsCourses:function(t){return function(e,s){var a=t.events.filter(function(t){var a=!0;return a=(t.tags.some(function(t){return e.some(function(e){return e===t})})||t.coursesIds.some(function(t){return s.some(function(e){return e===t})}))&&a,a}).filter(function(t){return ea(t.dateEnd).isAfter(ea())});return a.sort(aa),a}},getTopUsersEnrolledEvents:function(t){var e=[];return t.users.forEach(function(s){t.events.forEach(function(t){t.enrollments.length&&t.enrollments.forEach(function(t){s.id===t.userId&&(e.some(function(e){return e.id===t.userId})?e.find(function(e){return e.id===t.userId}).amount++:e.push({id:s.id,amount:1}))})})}),e.sort(function(t,e){return t.amount>e.amount?-1:t.amount<e.amount?1:0}),e},getEventsByTopEnrollments:function(t){var e=t.events.filter(function(t){return t.enrollments.length});return e.sort(function(t,e){return t.enrollments.length>e.enrollments.length?-1:t.enrollments.length<e.enrollments.length?1:0}),e},getEventClassrooms:function(t){var e=[];return t.events.forEach(function(t){-1===e.indexOf(t.classroom)&&e.push(t.classroom)}),e},getEventDiscussionByEventIdDiscussionId:function(t){return function(e,s){return t.events.find(function(t){return t.id===e}).discussions.find(function(t){return t.id===s})}},getLastDiscussionIdByEventId:function(t){return function(e){var s=0,a=t.events.findIndex(function(t){return t.id===e});return t.events[a].discussions.length&&t.events[a].discussions.forEach(function(t){t.id>=s&&(s=t.id)}),s}},getLastAnswerIdByEventIdDiscussionId:function(t){return function(e,s){var a=0;return t.events.length&&t.events.forEach(function(t){t.id===e&&t.discussions.length&&t.discussions.forEach(function(t){t.id===s&&t.answers&&t.answers.forEach(function(t){t.id>=a&&(a=t.id)})})}),a}},getNotificationsByUserId:function(t){return function(e){return t.users.find(function(t){return t.id===e}).notifications}},getEventInfoById:function(t){return function(e){return t.events.find(function(t){return t.id===e})}},getMedals:function(t){return t.medals},getMedalInfoById:function(t){return function(e){return t.medals.find(function(t){return t.id===e})}}},mutations:{SET_USERS:function(t,e){t.users=e},USER_LOGGED_IN:function(t,e){t.loggedUserId=e},USER_LOGGED_OUT:function(t){t.loggedUserId=-1},SIGNED_UP:function(t,e){t.users.push(e)},CREATED_ACCOUNT:function(t,e){t.users.push(e)},EDIT_USER_BY_ID:function(t,e){t.users.forEach(function(t){t.id===e.id&&(t.name=e.name,t.profileId=e.profileId,t.username=e.username,t.password=e.password,t.email=e.email,t.name=e.name,t.picture=e.picture)})},EDIT_USER_INTERESTS_BY_ID:function(t,e){t.users.forEach(function(t){t.id===e.id&&(t.interests=e.interests)})},REMOVE_USER_BY_ID:function(t,e){var s=t.users.findIndex(function(t){return t.id===e});t.users.splice(s,1)},SET_COURSES:function(t,e){t.courses=e},ADD_COURSE:function(t,e){t.courses.push(e)},EDIT_COURSE:function(t,e){t.courses.forEach(function(t){t.id===e.id&&(t.name=e.name,t.abbreviation=e.abbreviation)})},REMOVE_COURSE_BY_ID:function(t,e){t.courses.forEach(function(s,a){s.id===e&&t.courses.splice(a,1)})},SET_TAGS:function(t,e){t.tags=e},ADD_TAG:function(t,e){t.tags.push(e)},EDIT_TAG:function(t,e){t.tags.forEach(function(t){t.id===e.id&&(t.name=e.name)})},REMOVE_TAG_BY_ID:function(t,e){t.tags.forEach(function(s,a){s.id===e&&t.tags.splice(a,1)})},SET_EVENTS:function(t,e){t.events=e},ADD_EVENT:function(t,e){t.events.push(e)},EDIT_EVENT_BY_ID:function(t,e){t.events.forEach(function(t){t.id===e.id&&(t.name=e.event.name,t.category=e.event.category,t.tags=e.event.tags,t.description=e.event.description,t.classroom=e.event.classroom,t.coursesIds=e.event.coursesIds,t.hourStart=e.event.hourStart,t.hourEnd=e.event.hourEnd,t.dateStart=e.event.dateStart,t.durationDays=e.event.durationDays,t.dateEnd=e.event.dateEnd,t.paymentPrice=e.event.paymentPrice,t.picture=e.event.picture)})},ADD_EVENT_ENROLLMENT_BY_EVENT_ID:function(t,e){t.events.forEach(function(t){t.id===e.eventId&&t.enrollments.push(e.enrollment)})},REMOVE_EVENT_ENROLLMENT_BY_EVENT_ID_USER_ID:function(t,e){t.events.forEach(function(t){t.id===e.eventId&&t.enrollments.forEach(function(s,a){s.userId===e.userId&&t.enrollments.splice(a,1)})})},UPVOTE_EVENT_DISCUSSION_BY_EVENT_ID_DISCUSSION_ID:function(t,e){t.events.forEach(function(s){s.id===e.eventId&&s.discussions.forEach(function(s){s.id===e.discussionId&&(s.upvotes++,s.usersVoted.push(t.loggedUserId))})})},DOWNVOTE_EVENT_DISCUSSION_BY_EVENT_ID_DISCUSSION_ID:function(t,e){t.events.forEach(function(s){s.id===e.eventId&&s.discussions.forEach(function(s){s.id===e.discussionId&&(s.downvotes++,s.usersVoted.push(t.loggedUserId))})})},CREATE_EVENT_DISCUSSION:function(t,e){var s=t.events.findIndex(function(t){return t.id===e.eventId});t.events[s].discussions.push(e.discussion)},EDIT_EVENT_DISCUSSION_BY_EVENT_ID_DISCUSSION_ID:function(t,e){t.events.forEach(function(t){t.id===e.eventId&&t.discussions.forEach(function(t){t.id===e.discussionId&&(t.title=e.discussion.title,t.category=e.discussion.category,t.content=e.discussion.content)})})},REMOVE_EVENT_BY_ID:function(t,e){var s=t.events.findIndex(function(t){return t.id===e});t.events.splice(s,1)},REMOVE_DISCUSSION_BY_EVENT_ID_DISCUSSION_ID:function(t,e){t.events.forEach(function(t){t.id===e.eventId&&t.discussions.forEach(function(s,a){s.id===e.discussionId&&t.discussions.splice(a,1)})})},ADD_DISCUSSION_ANSWER_BY_EVENT_ID_DISCUSSION_ID:function(t,e){t.events.forEach(function(t){t.id===e.eventId&&t.discussions.forEach(function(t){t.id===e.discussionId&&t.answers.push(e.answer)})})},REMOVE_EVENT_DISCUSSION_ANSWER_BY_EVENT_ID_DISCUSSION_ID_ANSWER_ID:function(t,e){t.events.forEach(function(t){t.id===e.eventId&&t.discussions.forEach(function(t){t.id===e.discussionId&&t.answers.forEach(function(s,a){s.id===e.answerId&&t.answers.splice(a,1)})})})},INSERT_NEW_NOTIFICATIONS:function(t,e){var s=e.tags,a=e.eventId,i=e.authorId,n=e.courses,r=e.moment,o=e.event;console.log("Received Event: "+a);var c=[];t.users.forEach(function(t){t.interests.tags.forEach(function(e){s.forEach(function(s){if(s===e)if(0!=c.length){var i=!1;c.forEach(function(e){e.userId===t.id&&e.eventId===a&&(i=!0)}),!1===i&&c.push({userId:t.id,eventId:a,moment:r})}else c.push({userId:t.id,eventId:a,moment:r})})}),t.interests.courses.forEach(function(e){n.forEach(function(s){if(s===e)if(0!=c.length){var i=!1;c.forEach(function(e){e.userId===t.id&&e.eventId===a&&(i=!0)}),!1===i&&c.push({userId:t.id,eventId:a,moment:r})}else c.push({userId:t.id,eventId:a,moment:r})})}),t.interests.proponents.forEach(function(e){i.forEach(function(s){if(s===e)if(0!=c.length){var i=!1;c.forEach(function(e){e.userId===t.id&&e.eventId===a&&(i=!0)}),!1===i&&c.push({userId:t.id,eventId:a,moment:r})}else c.push({userId:t.id,eventId:a,moment:r})})})}),t.users.forEach(function(t){c.forEach(function(e){if(e.userId===t.id){var s={tags:[],courses:[],prop:[]},a=o.tags,i=o.coursesIds,n=o.authorId;a.forEach(function(e){t.interests.tags.forEach(function(t){t===e&&s.tags.push(e)})}),i.forEach(function(e){t.interests.courses.forEach(function(t){e===t&&s.courses.push(e)})}),t.interests.proponents.forEach(function(t){t===n&&s.prop.push(n)}),t.notifications.push({id:t.notifications.length,eventId:e.eventId,moment:e.moment,matching:{tags:s.tags,proponent:s.prop,courses:s.courses}})}})})},INSERT_NEW_MEDAL_USER:function(t,e){t.users.forEach(function(t){t.id===e.userId&&t.leveling.medals.push(e.medalId)})},SET_MEDALS:function(t,e){t.medals=e},ASSIGN_MEDALS:function(t,e){console.log("medal"),t.users.forEach(function(s){s.id===e.userId&&t.medals.forEach(function(t){if("EVENT"===e.type&&"EVENT"===t.constrains.type){var a=s.history.events.length;a+1===t.constrains.constrain&&s.medals.push(t.id)}})})},HISTORY_UPDATE:function(t,e){"ADD"===e.type&&t.users.forEach(function(t){t.id===e.userId&&t.history.events.push(e.eventId)}),"REMOVE"===e.type&&t.users.forEach(function(t){t.id===e.userId&&t.history.events.forEach(function(s,a){s===e.eventId&&t.history.events.splice(a,1)})})}},actions:{setUsers:function(t,e){t.commit("SET_USERS",e)},userLoggedIn:function(t,e){t.commit("USER_LOGGED_IN",e)},userLoggedOut:function(t,e){t.commit("USER_LOGGED_OUT",e)},signUp:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,s){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ta.post("/auth/sign-up",{profileId:s.profileId,username:s.username,password:s.password,email:s.email,firstName:s.name,lastName:"Teste",picture:"https://artscimedia.case.edu/wp-content/uploads/sites/79/2016/12/14205134/no-user-image.gif",gender:s.gender});case 2:e.commit("SIGNED_UP",s);case 3:case"end":return t.stop()}},t,this)}));function e(e,s){return t.apply(this,arguments)}return e}(),createAccount:function(t,e){t.commit("CREATED_ACCOUNT",e)},editUserById:function(t,e){t.commit("EDIT_USER_BY_ID",e)},editUserInterestsById:function(t,e){t.commit("EDIT_USER_INTERESTS_BY_ID",e)},removeUserById:function(t,e){t.commit("REMOVE_USER_BY_ID",e)},setCourses:function(t,e){t.commit("SET_COURSES",e)},addCourse:function(t,e){t.commit("ADD_COURSE",e)},editCourse:function(t,e){t.commit("EDIT_COURSE",e)},removeCourseById:function(t,e){t.commit("REMOVE_COURSE_BY_ID",e)},setTags:function(t,e){t.commit("SET_TAGS",e)},addTag:function(t,e){t.commit("ADD_TAG",e)},editTag:function(t,e){t.commit("EDIT_TAG",e)},removeTagById:function(t,e){t.commit("REMOVE_TAG_BY_ID",e)},setEvents:function(t,e){t.commit("SET_EVENTS",e)},addEvent:function(t,e){t.commit("ADD_EVENT",e)},editEventById:function(t,e){t.commit("EDIT_EVENT_BY_ID",e)},removeEventById:function(t,e){t.commit("REMOVE_EVENT_BY_ID",e)},addEventEnrollmentByEventId:function(t,e){t.commit("ADD_EVENT_ENROLLMENT_BY_EVENT_ID",e)},removeEventEnrollmentByEventIdUserId:function(t,e){t.commit("REMOVE_EVENT_ENROLLMENT_BY_EVENT_ID_USER_ID",e)},upvoteEventDiscussionByEventIdDiscussionId:function(t,e){t.commit("UPVOTE_EVENT_DISCUSSION_BY_EVENT_ID_DISCUSSION_ID",e)},downvoteEventDiscussionByEventIdDiscussionId:function(t,e){t.commit("DOWNVOTE_EVENT_DISCUSSION_BY_EVENT_ID_DISCUSSION_ID",e)},createEventDiscussion:function(t,e){t.commit("CREATE_EVENT_DISCUSSION",e)},editEventDiscussionByEventIdDiscussionId:function(t,e){t.commit("EDIT_EVENT_DISCUSSION_BY_EVENT_ID_DISCUSSION_ID",e)},removeDiscussionByEventIdDiscussionId:function(t,e){t.commit("REMOVE_DISCUSSION_BY_EVENT_ID_DISCUSSION_ID",e)},addDiscussionAnswerByEventIdDiscussionId:function(t,e){t.commit("ADD_DISCUSSION_ANSWER_BY_EVENT_ID_DISCUSSION_ID",e)},removeEventDiscussionAnswerByEventIdDiscussionIdAnswerId:function(t,e){t.commit("REMOVE_EVENT_DISCUSSION_ANSWER_BY_EVENT_ID_DISCUSSION_ID_ANSWER_ID",e)},insertNewNotifications:function(t,e){t.commit("INSERT_NEW_NOTIFICATIONS",e)},insertNewMedalUser:function(t,e){t.commit("INSERT_NEW_MEDAL_USER",e)},historyUpdate:function(t,e){t.commit("HISTORY_UPDATE",e)},setMedals:function(t,e){t.commit("SET_MEDALS",e)},assignMedals:function(t,e){t.commit("ASSIGN_MEDALS",e)}}});function aa(t,e){return ea(t.dateStart).isAfter(e.dateStart)?1:ea(t.dateStart).isBefore(e.dateStart)?-1:0}function ia(t,e){return ea(t.dateStart).isAfter(e.dateStart)?-1:ea(t.dateStart).isBefore(e.dateStart)?1:0}a["default"].use(k["a"]);var na=new k["a"]({mode:"history",base:"/",routes:[{path:"/",component:W,meta:{title:"Início"},children:[{path:"",component:gt,name:"home",meta:{title:"Início"}},{path:"eventos",name:"events",component:xt,meta:{title:"Eventos"}},{path:"evento/:id",name:"eventsInfo",component:Kt},{path:"evento/:id/discussao/:discussionId",name:"eventDiscussion",component:de},{path:"iniciar-sessao",name:"login",component:ge,meta:{requiresNotAuth:!0}},{path:"criar-conta",name:"signup",component:xe,meta:{requiresNotAuth:!0}},{path:"perfil/:username",name:"profile",component:je},{path:"notificacoes",name:"notifications",component:Ks,meta:{title:"Notificações",requiresAuth:!0,authorizedProfiles:[1,2,3]}}]},{path:"/painel-controlo",component:He,meta:{requiresAuth:!0},children:[{path:"",name:"backoffice",component:Ke,meta:{authorizedProfiles:[2,3]}},{path:"utilizadores",name:"backofficeUsers",component:ys,meta:{authorizedProfiles:[3]}},{path:"categorias-tags",name:"backofficeTags",component:xs,meta:{authorizedProfiles:[3]}},{path:"cursos",name:"backofficeCourses",component:js,meta:{authorizedProfiles:[3]}},{path:"eventos",name:"backofficeEvents",component:Fs,meta:{authorizedProfiles:[2,3]}}]},{path:"*",redirect:{name:"home"}}],scrollBehavior:function(t,e,s){return s||{x:0,y:0}}}),ra=-1,oa=[],ca=null;na.beforeEach(function(t,e,s){if(e.name?(ra=sa.state.loggedUserId,oa=sa.getters.getUsers):(ra=parseInt(localStorage.loggedUserId),oa=JSON.parse(localStorage.users)),ca=oa.find(function(t){return t.id===ra}),t.matched.some(function(t){return t.meta.requiresAuth}))if(-1===ra)s({name:"login"});else{var a=t.matched.some(function(t){return!!t.meta.authorizedProfiles&&t.meta.authorizedProfiles.some(function(t){return t===ca.profileId})});a||1!==ca.profileId?a||2!==ca.profileId?s():s({name:"backoffice"}):s({name:"home"})}else t.matched.some(function(t){return t.meta.requiresNotAuth})&&-1!==ra&&s({name:"home"});s()});var la=na,da=s("9f7b"),ua=s("f213"),ma=s("fb9a"),ha=s.n(ma),fa=(s("04f2"),s("c789"),s("c718")),pa=v.a.create({baseURL:"https://atlas-server-gustavovasconcelos.c9users.io"});a["default"].prototype.$http=pa;var ga=s("c1df");s("f260"),a["default"].use(s("2ead"),{moment:ga}),a["default"].config.productionTip=!1,a["default"].use(da["a"]),a["default"].use(ua["a"]),a["default"].use(ha.a,{theme:{colors:{primary:"#00225B",success:"rgb(23, 201, 100)",danger:"#DC3545",warning:"rgb(255, 130, 0)",dark:"#008FC1"}}}),a["default"].use(fa["a"]),new a["default"]({router:la,store:sa,render:function(t){return t(w)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";var a=s("5e27"),i=s.n(a);i.a},"5e27":function(t,e,s){},6803:function(t,e,s){"use strict";var a=s("02e9"),i=s.n(a);i.a},6816:function(t,e,s){},"7cb4":function(t,e,s){"use strict";var a=s("29ad"),i=s.n(a);i.a},"81bc":function(t,e,s){},8909:function(t,e,s){},"8a4b":function(t,e,s){"use strict";var a=s("6816"),i=s.n(a);i.a},"8e8f":function(t,e,s){"use strict";var a=s("3e43"),i=s.n(a);i.a},"9d14":function(t,e,s){"use strict";var a=s("81bc"),i=s.n(a);i.a},ad08:function(t,e,s){"use strict";var a=s("b083"),i=s.n(a);i.a},b083:function(t,e,s){},b3f0:function(t,e,s){},cb31:function(t,e,s){"use strict";var a=s("b3f0"),i=s.n(a);i.a},dcb3:function(t,e,s){},ea69:function(t,e,s){"use strict";var a=s("8909"),i=s.n(a);i.a},f181:function(t,e,s){},f182:function(t,e,s){"use strict";var a=s("f181"),i=s.n(a);i.a},ffa5:function(t,e,s){}});
//# sourceMappingURL=app.073d7602.js.map